===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00

[stepper_x]
step_pin = PB13
dir_pin = PB12
enable_pin = !PB14
rotation_distance = 40
microsteps = 16
endstop_pin = PC0
position_endstop = 118
position_max = 118
homing_speed = 20
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = PB15
interpolate = true
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 500

[stepper_y]
step_pin = PB10
dir_pin = PB2
enable_pin = !PB11
rotation_distance = 40
microsteps = 16
endstop_pin = PC1
position_endstop = 120
position_max = 120
homing_speed = 20
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = PC6
interpolate = true
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 500

[stepper_z]
step_pin = PB0
dir_pin = !PC5
enable_pin = !PB1
rotation_distance = 8
microsteps = 16
endstop_pin = PC2
position_endstop = -0.180
position_max = 120
position_min = -1
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = PC10
interpolate = false
run_current = 0.600
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = PB3
dir_pin = PB4
enable_pin = !PD2
rotation_distance = 13.1544
gear_ratio = 50:17
microsteps = 16
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA0
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 0
max_extrude_only_distance = 780.0
max_extrude_cross_section = 50.0

[tmc2209 extruder]
uart_pin = PC11
interpolate = false
run_current = 0.4
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458
min_temp = 0
max_temp = 200
sensor_pin = PC3
smooth_time = 3.0
max_power = 0.5

[printer]
kinematics = corexy
max_velocity = 500
max_accel = 6000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[fan]
pin = PA8
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[idle_timeout]
timeout = 3600

[homing_override]
axes = z
set_position_z = 0
gcode = 
	G90
	G0 Z5 F600
	G28 X Y
	G0 X30 Y0 F3600
	
	G28 Z
	G0 Z10 F1800
	G0 X60 Y60 Z20 F3600
=======================
Args: ['/home/pi/klipper/klippy/klippy.py', '/home/pi/printer_data/config/printer.cfg', '-I', '/home/pi/printer_data/comms/klippy.serial', '-l', '/home/pi/printer_data/logs/klippy.log', '-a', '/home/pi/printer_data/comms/klippy.sock']
Git version: 'v0.11.0-22-gfe0fc296'
CPU: 4 core ?
Python: '3.9.2 (default, Feb 28 2021, 17:03:44) \n[GCC 10.2.1 20210110]'
webhooks client 547960987072: {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
=============== Log rollover at Thu Dec 22 15:06:01 2022 ===============
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
MCU error during connect
Traceback (most recent call last):
  File "/home/pi/klipper/klippy/mcu.py", line 777, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/pi/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/pi/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/pi/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/pi/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/pi/klipper/klippy/mcu.py", line 782, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/pi/klipper/klippy/../.config(3048): Thu Dec 15 21:55:39 2022
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
# CONFIG_MACH_AVR is not set
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
CONFIG_MACH_STM32=y
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_BOARD_DIRECTORY="stm32"
CONFIG_MCU="stm32f103xe"
CONFIG_CLOCK_FREQ=72000000
CONFIG_USBSERIAL=y
CONFIG_FLASH_SIZE=0x10000
CONFIG_FLASH_BOOT_ADDRESS=0x8000000
CONFIG_RAM_START=0x20000000
CONFIG_RAM_SIZE=0x5000
CONFIG_STACK_SIZE=512
CONFIG_FLASH_APPLICATION_ADDRESS=0x8007000
CONFIG_STM32_SELECT=y
CONFIG_MACH_STM32F103=y
# CONFIG_MACH_STM32F207 is not set
# CONFIG_MACH_STM32F401 is not set
# CONFIG_MACH_STM32F405 is not set
# CONFIG_MACH_STM32F407 is not set
# CONFIG_MACH_STM32F429 is not set
# CONFIG_MACH_STM32F446 is not set
# CONFIG_MACH_STM32F031 is not set
# CONFIG_MACH_STM32F042 is not set
# CONFIG_MACH_STM32F070 is not set
# CONFIG_MACH_STM32F072 is not set
# CONFIG_MACH_STM32G0B1 is not set
# CONFIG_MACH_STM32G431 is not set
# CONFIG_MACH_STM32H723 is not set
# CONFIG_MACH_STM32H743 is not set
# CONFIG_MACH_STM32H750 is not set
# CONFIG_MACH_STM32L412 is not set
# CONFIG_MACH_STM32F103x6 is not set
CONFIG_MACH_STM32F1=y
CONFIG_HAVE_STM32_USBFS=y
CONFIG_HAVE_STM32_CANBUS=y
# CONFIG_STM32F103GD_DISABLE_SWD is not set
# CONFIG_STM32_FLASH_START_2000 is not set
# CONFIG_STM32_FLASH_START_5000 is not set
CONFIG_STM32_FLASH_START_7000=y
# CONFIG_STM32_FLASH_START_8000 is not set
# CONFIG_STM32_FLASH_START_8800 is not set
# CONFIG_STM32_FLASH_START_10000 is not set
# CONFIG_STM32_FLASH_START_800 is not set
# CONFIG_STM32_FLASH_START_1000 is not set
# CONFIG_STM32_FLASH_START_4000 is not set
# CONFIG_STM32_FLASH_START_0000 is not set
CONFIG_STM32_CLOCK_REF_8M=y
# CONFIG_STM32_CLOCK_REF_12M is not set
# CONFIG_STM32_CLOCK_REF_16M is not set
# CONFIG_STM32_CLOCK_REF_20M is not set
# CONFIG_STM32_CLOCK_REF_25M is not set
# CONFIG_STM32_CLOCK_REF_INTERNAL is not set
CONFIG_CLOCK_REF_FREQ=8000000
CONFIG_STM32F0_TRIM=16
CONFIG_STM32_USB_PA11_PA12=y
# CONFIG_STM32_SERIAL_USART1 is not set
# CONFIG_STM32_SERIAL_USART1_ALT_PB7_PB6 is not set
# CONFIG_STM32_SERIAL_USART2 is not set
# CONFIG_STM32_SERIAL_USART2_ALT_PD6_PD5 is not set
# CONFIG_STM32_SERIAL_USART3 is not set
# CONFIG_STM32_SERIAL_USART3_ALT_PD9_PD8 is not set
# CONFIG_STM32_CANBUS_PA11_PA12 is not set
# CONFIG_STM32_CANBUS_PA11_PB9 is not set
# CONFIG_STM32_MMENU_CANBUS_PB8_PB9 is not set
# CONFIG_STM32_MMENU_CANBUS_PD0_PD1 is not set
CONFIG_SERIAL_BOOTLOADER_SIDECHANNEL=y
CONFIG_USB=y
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER_CHIPID=y
CONFIG_USB_SERIAL_NUMBER="12345"

#
# USB ids
#
# end of USB ids

CONFIG_CANBUS_FREQUENCY=500000
CONFIG_INITIAL_PINS="!PC13"
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_GPIO_BITBANGING=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_HAVE_CHIPID=y
CONFIG_HAVE_STEPPER_BOTH_EDGE=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
Build file /home/pi/klipper/klippy/../out/klipper.dict(7524): Thu Dec 15 21:56:22 2022
Last MCU build version: v0.11.0-22-gfe0fc296
Last MCU build tools: gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2
Last MCU build config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=72000000 INITIAL_PINS=!PC13 MCU=stm32f103xe PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Build file /home/pi/klipper/klippy/../out/klipper.elf(1020480): Thu Dec 15 21:56:45 2022
Starting Klippy...
Args: ['/home/pi/klipper/klippy/klippy.py', '/home/pi/printer_data/config/printer.cfg', '-I', '/home/pi/printer_data/comms/klippy.serial', '-l', '/home/pi/printer_data/logs/klippy.log', '-a', '/home/pi/printer_data/comms/klippy.sock']
Git version: 'v0.11.0-22-gfe0fc296'
CPU: 4 core ?
Python: '3.9.2 (default, Feb 28 2021, 17:03:44) \n[GCC 10.2.1 20210110]'
Start printer at Thu Dec 22 15:10:01 2022 (1671750601.8 38.9)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00

[stepper_x]
step_pin = PB13
dir_pin = PB12
enable_pin = !PB14
rotation_distance = 40
microsteps = 16
endstop_pin = PC0
position_endstop = 118
position_max = 118
homing_speed = 20
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = PB15
interpolate = true
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 500

[stepper_y]
step_pin = PB10
dir_pin = PB2
enable_pin = !PB11
rotation_distance = 40
microsteps = 16
endstop_pin = PC1
position_endstop = 120
position_max = 120
homing_speed = 20
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = PC6
interpolate = true
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 500

[stepper_z]
step_pin = PB0
dir_pin = !PC5
enable_pin = !PB1
rotation_distance = 8
microsteps = 16
endstop_pin = PC2
position_endstop = -0.180
position_max = 120
position_min = -1
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = PC10
interpolate = false
run_current = 0.600
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = PB3
dir_pin = PB4
enable_pin = !PD2
rotation_distance = 13.1544
gear_ratio = 50:17
microsteps = 16
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA0
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 0
max_extrude_only_distance = 780.0
max_extrude_cross_section = 50.0

[tmc2209 extruder]
uart_pin = PC11
interpolate = false
run_current = 0.4
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458
min_temp = 0
max_temp = 200
sensor_pin = PC3
smooth_time = 3.0
max_power = 0.5

[printer]
kinematics = corexy
max_velocity = 500
max_accel = 6000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[fan]
pin = PA8
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[idle_timeout]
timeout = 3600

[homing_override]
axes = z
set_position_z = 0
gcode = 
	G90
	G0 Z5 F600
	G28 X Y
	G0 X30 Y0 F3600
	
	G28 Z
	G0 Z10 F1800
	G0 X60 Y60 Z20 F3600
=======================
Extruder max_extrude_ratio=20.787584
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
webhooks client 548038651280: New connection
webhooks client 548038651280: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
MCU error during connect
Traceback (most recent call last):
  File "/home/pi/klipper/klippy/mcu.py", line 777, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/pi/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/pi/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/pi/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/pi/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/pi/klipper/klippy/mcu.py", line 782, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/pi/klipper/klippy/../.config(1522): Thu Dec 22 15:08:14 2022
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
# CONFIG_MACH_AVR is not set
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
CONFIG_MACH_RP2040=y
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_BOARD_DIRECTORY="rp2040"
CONFIG_MCU="rp2040"
CONFIG_CLOCK_FREQ=12000000
CONFIG_USBSERIAL=y
CONFIG_FLASH_SIZE=0x200000
CONFIG_FLASH_BOOT_ADDRESS=0x10000100
CONFIG_RAM_START=0x20000000
CONFIG_RAM_SIZE=0x42000
CONFIG_STACK_SIZE=512
CONFIG_FLASH_APPLICATION_ADDRESS=0x10000100
CONFIG_RP2040_SELECT=y
CONFIG_RP2040_HAVE_STAGE2=y
CONFIG_RP2040_FLASH_START_0100=y
# CONFIG_RP2040_FLASH_START_4000 is not set
CONFIG_RP2040_FLASH_W25Q080=y
# CONFIG_RP2040_FLASH_GENERIC_03 is not set
CONFIG_RP2040_STAGE2_FILE="boot2_w25q080.S"
CONFIG_RP2040_STAGE2_CLKDIV=2
CONFIG_RP2040_USB=y
# CONFIG_RP2040_SERIAL_UART0 is not set
# CONFIG_RP2040_CANBUS is not set
# CONFIG_RP2040_USBCANBUS is not set
CONFIG_RP2040_CANBUS_GPIO_RX=4
CONFIG_RP2040_CANBUS_GPIO_TX=5
CONFIG_USB=y
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER_CHIPID=y
CONFIG_USB_SERIAL_NUMBER="12345"

#
# USB ids
#
# end of USB ids

CONFIG_CANBUS_FREQUENCY=500000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_GPIO_BITBANGING=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_HAVE_CHIPID=y
CONFIG_HAVE_STEPPER_BOTH_EDGE=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
Build file /home/pi/klipper/klippy/../out/klipper.dict(8098): Thu Dec 22 15:08:41 2022
Last MCU build version: v0.11.0-22-gfe0fc296
Last MCU build tools: gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2
Last MCU build config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Build file /home/pi/klipper/klippy/../out/klipper.elf(1731280): Thu Dec 22 15:08:56 2022
Attempting MCU 'mcu' reset
Unhandled exception during post run
Traceback (most recent call last):
  File "/home/pi/klippy-env/lib/python3.9/site-packages/serial/serialposix.py", line 265, in open
    self.fd = os.open(self.portstr, os.O_RDWR | os.O_NOCTTY | os.O_NONBLOCK)
FileNotFoundError: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/klipper/klippy/klippy.py", line 234, in run
    self.send_event("klippy:firmware_restart")
  File "/home/pi/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/pi/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/pi/klipper/klippy/mcu.py", line 931, in _firmware_restart
    self._restart_arduino()
  File "/home/pi/klipper/klippy/mcu.py", line 891, in _restart_arduino
    serialhdl.arduino_reset(self._serialport, self._reactor)
  File "/home/pi/klipper/klippy/serialhdl.py", line 377, in arduino_reset
    ser = serial.Serial(serialport, 2400, timeout=0, exclusive=True)
  File "/home/pi/klippy-env/lib/python3.9/site-packages/serial/serialutil.py", line 240, in __init__
    self.open()
  File "/home/pi/klippy-env/lib/python3.9/site-packages/serial/serialposix.py", line 268, in open
    raise SerialException(msg.errno, "could not open port {}: {}".format(self._port, msg))
serial.serialutil.SerialException: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32f103xe_35FFDC055254323333890543-if00'
Restarting printer
Start printer at Thu Dec 22 15:40:42 2022 (1671752442.3 201.7)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00

[stepper_x]
step_pin = PB13
dir_pin = PB12
enable_pin = !PB14
rotation_distance = 40
microsteps = 16
endstop_pin = PC0
position_endstop = 118
position_max = 118
homing_speed = 20
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = PB15
interpolate = true
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 500

[stepper_y]
step_pin = PB10
dir_pin = PB2
enable_pin = !PB11
rotation_distance = 40
microsteps = 16
endstop_pin = PC1
position_endstop = 120
position_max = 120
homing_speed = 20
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = PC6
interpolate = true
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 500

[stepper_z]
step_pin = PB0
dir_pin = !PC5
enable_pin = !PB1
rotation_distance = 8
microsteps = 16
endstop_pin = PC2
position_endstop = -0.180
position_max = 120
position_min = -1
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = PC10
interpolate = false
run_current = 0.600
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = PB3
dir_pin = PB4
enable_pin = !PD2
rotation_distance = 13.1544
gear_ratio = 50:17
microsteps = 16
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA0
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 0
max_extrude_only_distance = 780.0
max_extrude_cross_section = 50.0

[tmc2209 extruder]
uart_pin = PC11
interpolate = false
run_current = 0.4
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458
min_temp = 0
max_temp = 200
sensor_pin = PC3
smooth_time = 3.0
max_power = 0.5

[printer]
kinematics = corexy
max_velocity = 500
max_accel = 6000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[fan]
pin = PA8
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[idle_timeout]
timeout = 3600

[homing_override]
axes = z
set_position_z = 0
gcode = 
	G90
	G0 Z5 F600
	G28 X Y
	G0 X30 Y0 F3600
	
	G28 Z
	G0 Z10 F1800
	G0 X60 Y60 Z20 F3600
=======================
Extruder max_extrude_ratio=20.787584
mcu 'mcu': Starting serial connect
webhooks client 548038965856: New connection
webhooks client 548038965856: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Config error
Traceback (most recent call last):
  File "/home/pi/klipper/klippy/mcu.py", line 686, in _send_config
    self._serial.send(c)
  File "/home/pi/klipper/klippy/serialhdl.py", line 254, in send
    cmd = self.msgparser.create_command(msg)
  File "/home/pi/klipper/klippy/msgproto.py", line 344, in create_command
    cmd = mp.encode_by_name(**argparts)
  File "/home/pi/klipper/klippy/msgproto.py", line 181, in encode_by_name
    t.encode(out, params[name])
  File "/home/pi/klipper/klippy/msgproto.py", line 108, in encode
    raise enumeration_error(self.enum_name, v)
msgproto.enumeration_error: Unknown value 'PB15' in enumeration 'pin'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/klipper/klippy/klippy.py", line 180, in _connect
    cb()
  File "/home/pi/klipper/klippy/mcu.py", line 732, in _connect
    self._send_config(None)
  File "/home/pi/klipper/klippy/mcu.py", line 697, in _send_config
    raise self._printer.config_error(
configparser.Error: Pin 'PB15' is not a valid pin name on mcu 'mcu'
Attempting MCU 'mcu' reset command
webhooks client 548038965856: Disconnected
Restarting printer
Start printer at Thu Dec 22 15:48:33 2022 (1671752913.7 673.0)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00
restart_method = command

[printer]
kinematics = corexy
max_velocity = 200
max_accel = 2000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[stepper_x]
step_pin = gpio11
dir_pin = gpio10
enable_pin = !gpio12
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio4
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 0
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_y]
step_pin = gpio6
dir_pin = gpio5
enable_pin = !gpio7
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio3
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 2
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_z]
step_pin = gpio19
dir_pin = !gpio28
enable_pin = !gpio2
rotation_distance = 8
microsteps = 32
endstop_pin = ^gpio25
position_endstop = -0.10
position_max = 120
position_min = -1.5
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 1
interpolate = False
run_current = 0.37
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = gpio14
dir_pin = gpio13
enable_pin = !gpio15
rotation_distance = 13.1544
gear_ratio = 50:10
microsteps = 32
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = gpio23
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio27
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 170
max_extrude_only_distance = 150
max_extrude_cross_section = 0.9

[tmc2209 extruder]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 3
interpolate = False
run_current = 0.6
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = gpio21
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC3
smooth_time = 3.0
max_power = 0.5
min_temp = 0
max_temp = 200
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458

[heater_fan hotend_fan]
pin = gpio18
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = gpio17
max_power = 1.0
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[idle_timeout]
timeout = 36000

[safe_z_home]
home_xy_position = 120,120
speed = 50.0
z_hop = 5
=======================
Extruder max_extrude_ratio=0.374177
mcu 'mcu': Starting serial connect
webhooks client 548038105648: New connection
webhooks client 548038105648: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Config error
Traceback (most recent call last):
  File "/home/pi/klipper/klippy/mcu.py", line 686, in _send_config
    self._serial.send(c)
  File "/home/pi/klipper/klippy/serialhdl.py", line 254, in send
    cmd = self.msgparser.create_command(msg)
  File "/home/pi/klipper/klippy/msgproto.py", line 344, in create_command
    cmd = mp.encode_by_name(**argparts)
  File "/home/pi/klipper/klippy/msgproto.py", line 181, in encode_by_name
    t.encode(out, params[name])
  File "/home/pi/klipper/klippy/msgproto.py", line 108, in encode
    raise enumeration_error(self.enum_name, v)
msgproto.enumeration_error: Unknown value 'PC3' in enumeration 'pin'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/klipper/klippy/klippy.py", line 180, in _connect
    cb()
  File "/home/pi/klipper/klippy/mcu.py", line 732, in _connect
    self._send_config(None)
  File "/home/pi/klipper/klippy/mcu.py", line 697, in _send_config
    raise self._printer.config_error(
configparser.Error: Pin 'PC3' is not a valid pin name on mcu 'mcu'
Attempting MCU 'mcu' reset command
webhooks client 548038105648: Disconnected
Restarting printer
Start printer at Thu Dec 22 15:49:03 2022 (1671752943.3 702.7)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00
restart_method = command

[printer]
kinematics = corexy
max_velocity = 200
max_accel = 2000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[stepper_x]
step_pin = gpio11
dir_pin = gpio10
enable_pin = !gpio12
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio4
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 0
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_y]
step_pin = gpio6
dir_pin = gpio5
enable_pin = !gpio7
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio3
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 2
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_z]
step_pin = gpio19
dir_pin = !gpio28
enable_pin = !gpio2
rotation_distance = 8
microsteps = 32
endstop_pin = ^gpio25
position_endstop = -0.10
position_max = 120
position_min = -1.5
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 1
interpolate = False
run_current = 0.37
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = gpio14
dir_pin = gpio13
enable_pin = !gpio15
rotation_distance = 13.1544
gear_ratio = 50:10
microsteps = 32
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = gpio23
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio27
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 170
max_extrude_only_distance = 150
max_extrude_cross_section = 0.9

[tmc2209 extruder]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 3
interpolate = False
run_current = 0.6
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = gpio21
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio26
smooth_time = 3.0
max_power = 0.5
min_temp = 0
max_temp = 200
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458

[heater_fan hotend_fan]
pin = gpio18
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = gpio17
max_power = 1.0
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[idle_timeout]
timeout = 36000

[safe_z_home]
home_xy_position = 120,120
speed = 50.0
z_hop = 5
=======================
Extruder max_extrude_ratio=0.374177
mcu 'mcu': Starting serial connect
webhooks client 548038595056: New connection
webhooks client 548038595056: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Starting heater checks for heater_bed
Starting heater checks for extruder
Stats 704.5: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2156 bytes_read=5447 bytes_retransmit=9 bytes_invalid=0 send_seq=199 receive_seq=199 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=11999639  heater_bed: target=0 temp=0.0 pwm=0.000 sysload=1.07 cputime=7.638 memavail=742772 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 548038595056
webhooks: registering remote method 'reboot_machine' for connection id: 548038595056
webhooks: registering remote method 'pause_job_queue' for connection id: 548038595056
webhooks: registering remote method 'start_job_queue' for connection id: 548038595056
Stats 705.5: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2162 bytes_read=5462 bytes_retransmit=9 bytes_invalid=0 send_seq=200 receive_seq=200 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000084  heater_bed: target=0 temp=0.0 pwm=0.000 sysload=1.07 cputime=7.679 memavail=742276 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
Stats 706.5: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2168 bytes_read=5561 bytes_retransmit=9 bytes_invalid=0 send_seq=201 receive_seq=201 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000165  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.07 cputime=7.700 memavail=742828 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
MCU 'mcu' shutdown: ADC out of range
clocksync state: mcu_freq=12000000 last_clock=53892331 clock_est=(703.889 27532550 12000165.944) min_half_rtt=0.000165 min_rtt_time=703.803 time_avg=703.889(0.238) clock_avg=27532550.127(2859526.595) pred_variance=99203077.130
Dumping serial stats: bytes_write=2168 bytes_read=5600 bytes_retransmit=9 bytes_invalid=0 send_seq=201 receive_seq=201 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0
Dumping send queue 100 messages
Sent 0 704.123565 704.123565 14: seq: 15, config_digital_out oid=12 pin=gpio21 value=0 default_value=0 max_duration=60000000
Sent 1 704.123627 704.123627 10: seq: 16, set_digital_out_pwm_cycle oid=12 cycle_ticks=1200000
Sent 2 704.123749 704.123749 11: seq: 17, config_digital_out oid=13 pin=gpio18 value=0 default_value=1 max_duration=0
Sent 3 704.123848 704.123848 10: seq: 18, set_digital_out_pwm_cycle oid=13 cycle_ticks=120000
Sent 4 704.123949 704.123949 11: seq: 19, config_digital_out oid=14 pin=gpio17 value=0 default_value=0 max_duration=0
Sent 5 704.124010 704.124010 10: seq: 1a, set_digital_out_pwm_cycle oid=14 cycle_ticks=120000
Sent 6 704.124125 704.124125 11: seq: 1b, config_stepper oid=1 step_pin=gpio11 dir_pin=gpio10 invert_step=4294967295 step_pulse_ticks=0
Sent 7 704.124221 704.124221 11: seq: 1c, config_digital_out oid=15 pin=gpio12 value=1 default_value=1 max_duration=0
Sent 8 704.124397 704.124397 9: seq: 1d, config_endstop oid=2 pin=gpio4 pull_up=1
Sent 9 704.124452 704.124452 7: seq: 1e, config_trsync oid=3
Sent 10 704.124745 704.124745 17: seq: 1f, config_stepper oid=4 step_pin=gpio6 dir_pin=gpio5 invert_step=4294967295 step_pulse_ticks=0, config_digital_out oid=16 pin=gpio7 value=1 default_value=1 max_duration=0
Sent 11 704.124844 704.124844 9: seq: 10, config_endstop oid=5 pin=gpio3 pull_up=1
Sent 12 704.124944 704.124944 7: seq: 11, config_trsync oid=6
Sent 13 704.125100 704.125100 11: seq: 12, config_stepper oid=7 step_pin=gpio19 dir_pin=gpio28 invert_step=4294967295 step_pulse_ticks=0
Sent 14 704.125222 704.125222 11: seq: 13, config_digital_out oid=17 pin=gpio2 value=1 default_value=1 max_duration=0
Sent 15 704.125353 704.125353 9: seq: 14, config_endstop oid=8 pin=gpio25 pull_up=1
Sent 16 704.125415 704.125415 7: seq: 15, config_trsync oid=9
Sent 17 704.125607 704.125607 8: seq: 16, config_analog_in oid=18 pin=gpio27
Sent 18 704.125967 704.125967 14: seq: 17, config_digital_out oid=19 pin=gpio23 value=0 default_value=0 max_duration=60000000
Sent 19 704.126084 704.126084 10: seq: 18, set_digital_out_pwm_cycle oid=19 cycle_ticks=1200000
Sent 20 704.126373 704.126373 11: seq: 19, config_stepper oid=10 step_pin=gpio14 dir_pin=gpio13 invert_step=4294967295 step_pulse_ticks=0
Sent 21 704.126589 704.126589 17: seq: 1a, config_digital_out oid=20 pin=gpio15 value=1 default_value=1 max_duration=0, finalize_config crc=3541449720
Sent 22 704.126769 704.126769 24: seq: 1b, query_analog_in oid=11 clock=49320000 sample_ticks=12000 sample_count=8 rest_ticks=3600000 min_value=2800 max_value=32331 range_check_count=4
Sent 23 704.126832 704.126832 12: seq: 1c, queue_digital_out oid=12 clock=32682137 on_ticks=0
Sent 24 704.126934 704.126934 12: seq: 1d, queue_digital_out oid=13 clock=32683650 on_ticks=0
Sent 25 704.126994 704.126994 12: seq: 1e, queue_digital_out oid=14 clock=32685410 on_ticks=0
Sent 26 704.127168 704.127168 24: seq: 1f, query_analog_in oid=18 clock=50160000 sample_ticks=12000 sample_count=8 rest_ticks=3600000 min_value=855 max_value=32331 range_check_count=4
Sent 27 704.127224 704.127224 12: seq: 10, queue_digital_out oid=19 clock=32716186 on_ticks=0
Sent 28 704.127434 704.127434 6: seq: 11, get_config
Sent 29 704.133354 704.133354 14: seq: 12, tmcuart_send oid=0 write=b'\xea\x03H \xe4' read=10
Sent 30 704.138222 704.138222 14: seq: 13, tmcuart_send oid=0 write=b'\xea\x03H \xe4' read=10
Sent 31 704.143530 704.143530 19: seq: 14, tmcuart_send oid=0 write=b'\xea\x03\x080\x80\x00\n\x88\xb8\xf7' read=0
Sent 32 704.147177 704.147177 14: seq: 15, tmcuart_send oid=0 write=b'\xea\x03H \xe4' read=10
Sent 33 704.152770 704.152770 19: seq: 16, tmcuart_send oid=0 write=b'\xea\x03h0\x80\x00\x12\x08 \xda' read=0
Sent 34 704.156477 704.156477 14: seq: 17, tmcuart_send oid=0 write=b'\xea\x03H \xe4' read=10
Sent 35 704.162124 704.162124 19: seq: 18, tmcuart_send oid=0 write=b'\xea\x03\x88\xbd\x91\x06\x02h*\xd5' read=0
Sent 36 704.165711 704.165711 14: seq: 19, tmcuart_send oid=0 write=b'\xea\x03H \xe4' read=10
Sent 37 704.172357 704.172357 19: seq: 1a, tmcuart_send oid=0 write=b'\xea\x03\x082\x80\x10z\xe8\xa1\xe0' read=0
Sent 38 704.176249 704.176249 14: seq: 1b, tmcuart_send oid=0 write=b'\xea\x03H \xe4' read=10
Sent 39 704.181806 704.181806 19: seq: 1c, tmcuart_send oid=0 write=b'\xea\x03(2\x80\x00\x02\x88"\xf3' read=0
Sent 40 704.185463 704.185463 14: seq: 1d, tmcuart_send oid=0 write=b'\xea\x03H \xe4' read=10
Sent 41 704.191125 704.191125 19: seq: 1e, tmcuart_send oid=0 write=b'\xea\x03\x08>\xe4\x1ar\x88\xa4\x85' read=0
Sent 42 704.194751 704.194751 14: seq: 1f, tmcuart_send oid=0 write=b'\xea\x03H \xe4' read=10
Sent 43 704.200315 704.200315 19: seq: 10, tmcuart_send oid=0 write=b'\xea\x03\x088\x80\x00\x02\x08 \xba' read=0
Sent 44 704.203984 704.203984 14: seq: 11, tmcuart_send oid=0 write=b'\xea\x03H \xe4' read=10
Sent 45 704.209540 704.209540 14: seq: 12, tmcuart_send oid=0 write=b'\xea\x13H\xa0\xc9' read=10
Sent 46 704.214816 704.214816 19: seq: 13, tmcuart_send oid=0 write=b'\xea\x13\x080\x80\x00\n\x88\xb8\xcc' read=0
Sent 47 704.218514 704.218514 14: seq: 14, tmcuart_send oid=0 write=b'\xea\x13H\xa0\xc9' read=10
Sent 48 704.224090 704.224090 19: seq: 15, tmcuart_send oid=0 write=b'\xea\x13h0\x80\x00\x12\x08 \xe1' read=0
Sent 49 704.227700 704.227700 14: seq: 16, tmcuart_send oid=0 write=b'\xea\x13H\xa0\xc9' read=10
Sent 50 704.233288 704.233288 19: seq: 17, tmcuart_send oid=0 write=b'\xea\x13\x88\xbd\x91\x06\x02h*\xee' read=0
Sent 51 704.236985 704.236985 14: seq: 18, tmcuart_send oid=0 write=b'\xea\x13H\xa0\xc9' read=10
Sent 52 704.242609 704.242609 19: seq: 19, tmcuart_send oid=0 write=b'\xea\x13\x082\x80\x10z\xe8\xa1\xdb' read=0
Sent 53 704.246194 704.246194 14: seq: 1a, tmcuart_send oid=0 write=b'\xea\x13H\xa0\xc9' read=10
Sent 54 704.251768 704.251768 19: seq: 1b, tmcuart_send oid=0 write=b'\xea\x13(2\x80\x00\x02\x88"\xc8' read=0
Sent 55 704.255454 704.255454 14: seq: 1c, tmcuart_send oid=0 write=b'\xea\x13H\xa0\xc9' read=10
Sent 56 704.261067 704.261067 19: seq: 1d, tmcuart_send oid=0 write=b'\xea\x13\x08>\xe4\x1ar\x88\xa4\xbe' read=0
Sent 57 704.264679 704.264679 14: seq: 1e, tmcuart_send oid=0 write=b'\xea\x13H\xa0\xc9' read=10
Sent 58 704.270288 704.270288 19: seq: 1f, tmcuart_send oid=0 write=b'\xea\x13\x088\x80\x00\x02\x08 \x81' read=0
Sent 59 704.273951 704.273951 14: seq: 10, tmcuart_send oid=0 write=b'\xea\x13H\xa0\xc9' read=10
Sent 60 704.279554 704.279554 14: seq: 11, tmcuart_send oid=0 write=b'\xea\x0bH \xbf' read=10
Sent 61 704.284751 704.284751 19: seq: 12, tmcuart_send oid=0 write=b'\xea\x0b\x080\x80\x00\n\x88\xb8\x81' read=0
Sent 62 704.288459 704.288459 14: seq: 13, tmcuart_send oid=0 write=b'\xea\x0bH \xbf' read=10
Sent 63 704.294061 704.294061 19: seq: 14, tmcuart_send oid=0 write=b'\xea\x0bh0\x80\x00\x12\x08 \xac' read=0
Sent 64 704.297719 704.297719 14: seq: 15, tmcuart_send oid=0 write=b'\xea\x0bH \xbf' read=10
Sent 65 704.303477 704.303477 19: seq: 16, tmcuart_send oid=0 write=b'\xea\x0b\x88\xbd\x91\x06\x02h*\xa3' read=0
Sent 66 704.307325 704.307325 14: seq: 17, tmcuart_send oid=0 write=b'\xea\x0bH \xbf' read=10
Sent 67 704.312589 704.312589 19: seq: 18, tmcuart_send oid=0 write=b'\xea\x0b\x082\x80\x10Zh\xa1\xb1' read=0
Sent 68 704.316223 704.316223 14: seq: 19, tmcuart_send oid=0 write=b'\xea\x0bH \xbf' read=10
Sent 69 704.321770 704.321770 19: seq: 1a, tmcuart_send oid=0 write=b'\xea\x0b(2\x80\x00\x02\x88"\x85' read=0
Sent 70 704.325419 704.325419 14: seq: 1b, tmcuart_send oid=0 write=b'\xea\x0bH \xbf' read=10
Sent 71 704.331086 704.331086 19: seq: 1c, tmcuart_send oid=0 write=b'\xea\x0b\x08>\xe4\x1ar\x88\xa4\xf3' read=0
Sent 72 704.334741 704.334741 14: seq: 1d, tmcuart_send oid=0 write=b'\xea\x0bH \xbf' read=10
Sent 73 704.340255 704.340255 19: seq: 1e, tmcuart_send oid=0 write=b'\xea\x0b\x088\x80\x00\x02\x08 \xcc' read=0
Sent 74 704.343935 704.343935 14: seq: 1f, tmcuart_send oid=0 write=b'\xea\x0bH \xbf' read=10
Sent 75 704.349526 704.349526 14: seq: 10, tmcuart_send oid=0 write=b'\xea\x1bH\xa0\x92' read=10
Sent 76 704.354815 704.354815 19: seq: 11, tmcuart_send oid=0 write=b'\xea\x1b\x080\x80\x00\n\x88\xb8\xba' read=0
Sent 77 704.358496 704.358496 14: seq: 12, tmcuart_send oid=0 write=b'\xea\x1bH\xa0\x92' read=10
Sent 78 704.364013 704.364013 19: seq: 13, tmcuart_send oid=0 write=b'\xea\x1bh0\x80\x00\x12\x08 \x97' read=0
Sent 79 704.367715 704.367715 14: seq: 14, tmcuart_send oid=0 write=b'\xea\x1bH\xa0\x92' read=10
Sent 80 704.373284 704.373284 19: seq: 15, tmcuart_send oid=0 write=b'\xea\x1b\x88\xbd\x91\x06\x02h*\x98' read=0
Sent 81 704.376995 704.376995 14: seq: 16, tmcuart_send oid=0 write=b'\xea\x1bH\xa0\x92' read=10
Sent 82 704.382580 704.382580 19: seq: 17, tmcuart_send oid=0 write=b'\xea\x1b\x082\x80\x10\x9ah"\xd1' read=0
Sent 83 704.386152 704.386152 14: seq: 18, tmcuart_send oid=0 write=b'\xea\x1bH\xa0\x92' read=10
Sent 84 704.391798 704.391798 19: seq: 19, tmcuart_send oid=0 write=b'\xea\x1b(2\x80\x00\x02\x88"\xbe' read=0
Sent 85 704.395486 704.395486 14: seq: 1a, tmcuart_send oid=0 write=b'\xea\x1bH\xa0\x92' read=10
Sent 86 704.401063 704.401063 19: seq: 1b, tmcuart_send oid=0 write=b'\xea\x1b\x08>\xe4\x1ar\x88\xa4\xc8' read=0
Sent 87 704.404733 704.404733 14: seq: 1c, tmcuart_send oid=0 write=b'\xea\x1bH\xa0\x92' read=10
Sent 88 704.410338 704.410338 19: seq: 1d, tmcuart_send oid=0 write=b'\xea\x1b\x088\x80\x00\x02\x08 \xf7' read=0
Sent 89 704.413956 704.413956 14: seq: 1e, tmcuart_send oid=0 write=b'\xea\x1bH\xa0\x92' read=10
Sent 90 704.420240 704.420240 7: seq: 1f, stepper_get_position oid=1
Sent 91 704.422744 704.422744 14: seq: 10, tmcuart_send oid=0 write=b'\xea\x03H-\xd5' read=10
Sent 92 704.429115 704.429115 7: seq: 11, stepper_get_position oid=4
Sent 93 704.431223 704.431223 14: seq: 12, tmcuart_send oid=0 write=b'\xea\x13H\xad\xf8' read=10
Sent 94 704.436440 704.436440 7: seq: 13, stepper_get_position oid=7
Sent 95 704.437843 704.437843 14: seq: 14, tmcuart_send oid=0 write=b'\xea\x0bH-\x8e' read=10
Sent 96 704.444045 704.444045 7: seq: 15, stepper_get_position oid=10
Sent 97 704.445812 704.445812 14: seq: 16, tmcuart_send oid=0 write=b'\xea\x1bH\xad\xa3' read=10
Sent 98 705.101177 705.101177 6: seq: 17, get_clock
Sent 99 706.085384 706.085384 6: seq: 18, get_clock
Dumping receive queue 100 messages
Receive: 0 703.677356 703.676677 49: seq: 11, identify_response offset=2560 data=b'{\xa3&\xfej\xfa\xf3-\xae5\x86~\xc8\x1c\xf5%V\x05f\x1e+\xc1\xcd\xecxu\x93\xb8q\xe6\xe4\xe4C[C\x94=\xa6\xe1O'
Receive: 1 703.678732 703.678016 49: seq: 12, identify_response offset=2600 data=b'K\x01}\xe5&\x84\x99Q\xbfk\xe2\xe8]+9tC@\x0f\xd4N\x03\xc9\x1c\xce\x11\x14=\xc6\t\x84\xcd\x0b\x1f\x92\xc9\x1a<\xc8\xcc'
Receive: 2 703.680105 703.679389 49: seq: 13, identify_response offset=2640 data=b'\xa7\xfe\x80\x8d-\xd1\x0fO\xce\xb3\xfe/#\x1b\x8f\x8dl\x19\xfb\xe3L-o\xc3\xdcX\x14\xea\x0bR\x81J\x81\x1b\x80\x14\xfc\xb9\xf9\x06'
Receive: 3 703.681477 703.680771 49: seq: 14, identify_response offset=2680 data=b'\xcb@\x17_\xcd\x88\xf1\xb4\x006~m\xfa\x87D\x10\xf9\x18\xde4\xc0G\x00M\x9d\x1c\xe1\x1c\xa9\xd7\x1f\xd3\xf9zN\xa6#\x93\xdf1'
Receive: 4 703.682858 703.682121 49: seq: 15, identify_response offset=2720 data=b"\x8b\x8d\x1ai@@S\xc5\xe3zEu\xaet\xb6,\xc7Z\xff\xc8/4\xcf\xf4\x86 \xb3\t\t\r\x85\x05\x9c\x9a\xce\xe2\xdaT\r'"
Receive: 5 703.684234 703.683549 49: seq: 16, identify_response offset=2760 data=b'\x9d}\xa4\x0c\xa4t\xb3\r\xdc\xd8\xe4\x98\x7f\x1c\x98\x90\xa7OF!\xcey\x8a\xdc\xceeN~F\xf0\x03\x83\x1ao\xa8\xaa\x81\xbe\xa9\x8d'
Receive: 6 703.685618 703.684902 43: seq: 17, identify_response offset=2800 data=b'\xfef\x00QU\x7fy\x87\x96\xed18\x0f\xc3\xf3`\x19E\xcb\xfd\x8e\x07\xbb"\xda\xae\x16\xaf\xff\x05\xb7^}\x81'
Receive: 7 703.686989 703.686287 9: seq: 18, identify_response offset=2834 data=b''
Receive: 8 703.699624 703.698863 11: seq: 19, uptime high=0 clock=25253652
Receive: 9 703.752244 703.750718 10: seq: 1a, clock clock=25875950
Receive: 10 703.803616 703.803286 10: seq: 1b, clock clock=26506483
Receive: 11 703.854981 703.854640 10: seq: 1c, clock clock=27122792
Receive: 12 703.907616 703.906161 10: seq: 1d, clock clock=27741004
Receive: 13 703.960240 703.959064 10: seq: 1e, clock clock=28375978
Receive: 14 704.011614 704.011270 10: seq: 1f, clock clock=29002366
Receive: 15 704.062991 704.062567 10: seq: 10, clock clock=29618037
Receive: 16 704.114418 704.113927 10: seq: 11, clock clock=30234389
Receive: 17 704.117061 704.116617 10: seq: 12, config is_config=0 crc=0 is_shutdown=0 move_count=0
Receive: 18 704.117098 704.116733 10: seq: 13, clock clock=30267900
Receive: 19 704.129470 704.127434 15: seq: 12, config is_config=1 crc=3541449720 is_shutdown=0 move_count=1024
Receive: 20 704.137242 704.133354 18: seq: 13, tmcuart_response oid=0 read=b'\n\xfaO \x00\x01\x04\x10@L'
Receive: 21 704.142489 704.138222 18: seq: 14, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\x08 \xa6'
Receive: 22 704.146483 704.143530 8: seq: 15, tmcuart_response oid=0 read=b''
Receive: 23 704.151732 704.147177 18: seq: 16, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02(\xa0\xe2'
Receive: 24 704.155730 704.152770 8: seq: 17, tmcuart_response oid=0 read=b''
Receive: 25 704.160990 704.156477 18: seq: 18, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02H\xa0\xc5'
Receive: 26 704.164990 704.162124 8: seq: 19, tmcuart_response oid=0 read=b''
Receive: 27 704.170285 704.165711 18: seq: 1a, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02h \x81'
Receive: 28 704.175500 704.172357 8: seq: 1b, tmcuart_response oid=0 read=b''
Receive: 29 704.180747 704.176249 18: seq: 1c, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\x88 \xd6'
Receive: 30 704.184744 704.181806 8: seq: 1d, tmcuart_response oid=0 read=b''
Receive: 31 704.189998 704.185463 18: seq: 1e, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\xa8\xa0\x92'
Receive: 32 704.193996 704.191125 8: seq: 1f, tmcuart_response oid=0 read=b''
Receive: 33 704.199252 704.194751 18: seq: 10, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\xc8\xa0\xb5'
Receive: 34 704.203247 704.200315 8: seq: 11, tmcuart_response oid=0 read=b''
Receive: 35 704.208481 704.203984 18: seq: 12, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\xe8 \xf1'
Receive: 36 704.213731 704.209540 18: seq: 13, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\x08 \xa6'
Receive: 37 704.217740 704.214816 8: seq: 14, tmcuart_response oid=0 read=b''
Receive: 38 704.222992 704.218514 18: seq: 15, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02(\xa0\xe2'
Receive: 39 704.226990 704.224090 8: seq: 16, tmcuart_response oid=0 read=b''
Receive: 40 704.232230 704.227700 18: seq: 17, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02H\xa0\xc5'
Receive: 41 704.236227 704.233288 8: seq: 18, tmcuart_response oid=0 read=b''
Receive: 42 704.241497 704.236985 18: seq: 19, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02h \x81'
Receive: 43 704.245491 704.242609 8: seq: 1a, tmcuart_response oid=0 read=b''
Receive: 44 704.250743 704.246194 18: seq: 1b, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\x88 \xd6'
Receive: 45 704.254741 704.251768 8: seq: 1c, tmcuart_response oid=0 read=b''
Receive: 46 704.259992 704.255454 18: seq: 1d, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\xa8\xa0\x92'
Receive: 47 704.263993 704.261067 8: seq: 1e, tmcuart_response oid=0 read=b''
Receive: 48 704.269243 704.264679 18: seq: 1f, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\xc8\xa0\xb5'
Receive: 49 704.273242 704.270288 8: seq: 10, tmcuart_response oid=0 read=b''
Receive: 50 704.278484 704.273951 18: seq: 11, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\xe8 \xf1'
Receive: 51 704.283739 704.279554 18: seq: 12, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\x08 \xa6'
Receive: 52 704.287744 704.284751 8: seq: 13, tmcuart_response oid=0 read=b''
Receive: 53 704.292989 704.288459 18: seq: 14, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02(\xa0\xe2'
Receive: 54 704.296988 704.294061 8: seq: 15, tmcuart_response oid=0 read=b''
Receive: 55 704.302229 704.297719 18: seq: 16, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02H\xa0\xc5'
Receive: 56 704.306231 704.303477 8: seq: 17, tmcuart_response oid=0 read=b''
Receive: 57 704.311504 704.307325 18: seq: 18, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02h \x81'
Receive: 58 704.315496 704.312589 8: seq: 19, tmcuart_response oid=0 read=b''
Receive: 59 704.320739 704.316223 18: seq: 1a, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\x88 \xd6'
Receive: 60 704.324739 704.321770 8: seq: 1b, tmcuart_response oid=0 read=b''
Receive: 61 704.329997 704.325419 18: seq: 1c, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\xa8\xa0\x92'
Receive: 62 704.333993 704.331086 8: seq: 1d, tmcuart_response oid=0 read=b''
Receive: 63 704.339231 704.334741 18: seq: 1e, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\xc8\xa0\xb5'
Receive: 64 704.343237 704.340255 8: seq: 1f, tmcuart_response oid=0 read=b''
Receive: 65 704.348492 704.343935 18: seq: 10, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\xe8 \xf1'
Receive: 66 704.353745 704.349526 18: seq: 11, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\x08 \xa6'
Receive: 67 704.357742 704.354815 8: seq: 12, tmcuart_response oid=0 read=b''
Receive: 68 704.362992 704.358496 18: seq: 13, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02(\xa0\xe2'
Receive: 69 704.366989 704.364013 8: seq: 14, tmcuart_response oid=0 read=b''
Receive: 70 704.372230 704.367715 18: seq: 15, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02H\xa0\xc5'
Receive: 71 704.376238 704.373284 8: seq: 16, tmcuart_response oid=0 read=b''
Receive: 72 704.381478 704.376995 18: seq: 17, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02h \x81'
Receive: 73 704.385480 704.382580 8: seq: 18, tmcuart_response oid=0 read=b''
Receive: 74 704.390742 704.386152 18: seq: 19, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\x88 \xd6'
Receive: 75 704.394738 704.391798 8: seq: 1a, tmcuart_response oid=0 read=b''
Receive: 76 704.399991 704.395486 18: seq: 1b, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\xa8\xa0\x92'
Receive: 77 704.403984 704.401063 8: seq: 1c, tmcuart_response oid=0 read=b''
Receive: 78 704.409232 704.404733 18: seq: 1d, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\xc8\xa0\xb5'
Receive: 79 704.413242 704.410338 8: seq: 1e, tmcuart_response oid=0 read=b''
Receive: 80 704.418490 704.413956 18: seq: 1f, tmcuart_response oid=0 read=b'\n\xfaO \x80\x00\x02\xe8 \xf1'
Receive: 81 704.421124 704.420240 8: seq: 10, stepper_position oid=1 pos=0
Receive: 82 704.427697 704.422744 18: seq: 11, tmcuart_response oid=0 read=b'\n\xfaO-\x80\x00\x02\x88\xa0\xea'
Receive: 83 704.430237 704.429115 8: seq: 12, stepper_position oid=4 pos=0
Receive: 84 704.435491 704.431223 18: seq: 13, tmcuart_response oid=0 read=b'\n\xfaO-\x80\x00\x02\x88\xa0\xea'
Receive: 85 704.436862 704.436440 8: seq: 14, stepper_position oid=7 pos=0
Receive: 86 704.442109 704.437843 18: seq: 15, tmcuart_response oid=0 read=b'\n\xfaO-\x80\x00\x02\x88\xa0\xea'
Receive: 87 704.444745 704.444045 8: seq: 16, stepper_position oid=10 pos=0
Receive: 88 704.449996 704.445812 18: seq: 17, tmcuart_response oid=0 read=b'\n\xfaO-\x80\x00\x02\x88\xa0\xea'
Receive: 89 705.102616 705.101177 10: seq: 18, clock clock=42081674
Receive: 90 705.712802 705.101177 14: seq: 18, analog_in_state oid=11 next_clock=52920000 value=31505
Receive: 91 705.782884 705.101177 14: seq: 18, analog_in_state oid=18 next_clock=53760000 value=32664
Receive: 92 706.011781 705.101177 14: seq: 18, analog_in_state oid=11 next_clock=56520000 value=31493
Receive: 93 706.081877 705.101177 14: seq: 18, analog_in_state oid=18 next_clock=57360000 value=32665
Receive: 94 706.085734 706.085384 10: seq: 19, clock clock=53892331
Receive: 95 706.312180 706.085384 14: seq: 19, analog_in_state oid=11 next_clock=60120000 value=31494
Receive: 96 706.382274 706.085384 14: seq: 19, analog_in_state oid=18 next_clock=60960000 value=32664
Receive: 97 706.594948 706.085384 14: seq: 19, stats count=910 sum=88249 sumsq=118213
Receive: 98 706.612527 706.085384 14: seq: 19, analog_in_state oid=11 next_clock=63720000 value=31494
Receive: 99 706.682687 706.085384 11: seq: 19, shutdown clock=61044593 static_string_id=ADC out of range
Transition to shutdown state: MCU 'mcu' shutdown: ADC out of range
This generally occurs when a heater temperature exceeds
its configured min_temp or max_temp.
Dumping gcode input 0 blocks
Dumping 20 requests for client 548038595056
Received 704.170167: b'{"id": 548554023936, "method": "info", "params": {}}'
Received 704.424333: b'{"id": 548554025376, "method": "info", "params": {}}'
Received 704.677942: b'{"id": 548554026912, "method": "info", "params": {}}'
Received 704.680342: b'{"id": 548554026912, "method": "list_endpoints", "params": {}}'
Received 704.685632: b'{"id": 548553411168, "method": "objects/subscribe", "params": {"objects": {"webhooks": null, "print_stats": null}, "response_template": {"method": "process_status_update"}}}'
Received 704.833483: b'{"id": 548553388768, "method": "info", "params": {}}'
Received 704.836634: b'{"id": 548553389872, "method": "objects/query", "params": {"objects": {"print_stats": null}}}'
Received 704.837179: b'{"id": 548553391744, "method": "objects/list", "params": {}}'
Received 704.915565: b'{"id": 548553412224, "method": "objects/list", "params": {}}'
Received 704.923966: b'{"id": 548553412224, "method": "objects/query", "params": {"objects": {"configfile": null}}}'
Received 704.984110: b'{"id": 548553411456, "method": "objects/subscribe", "params": {"objects": {"webhooks": null, "print_stats": null, "configfile": null, "mcu": null, "pause_resume": null, "display_status": null, "bed_screws": null, "save_variables": null, "gcode_move": null, "virtual_sdcard": null, "tmc2209 stepper_x": null, "tmc2209 stepper_y": null, "tmc2209 stepper_z": null, "tmc2209 extruder": null, "heaters": null, "heater_bed": null, "heater_fan hotend_fan": null, "fan": null, "idle_timeout": null, "motion_report": null, "query_endstops": null, "system_stats": null, "manual_probe": null, "toolhead": null, "extruder": null}, "response_template": {"method": "process_status_update"}}}'
Received 705.162890: b'{"id": 548553412224, "method": "register_remote_method", "params": {"response_template": {"method": "shutdown_machine"}, "remote_method": "shutdown_machine"}}'
Received 705.172086: b'{"id": 548554026048, "method": "register_remote_method", "params": {"response_template": {"method": "reboot_machine"}, "remote_method": "reboot_machine"}}'
Received 705.174840: b'{"id": 548554026048, "method": "register_remote_method", "params": {"response_template": {"method": "pause_job_queue"}, "remote_method": "pause_job_queue"}}'
Received 705.177618: b'{"id": 548554026048, "method": "register_remote_method", "params": {"response_template": {"method": "start_job_queue"}, "remote_method": "start_job_queue"}}'
Received 705.183108: b'{"id": 548555028800, "method": "objects/query", "params": {"objects": {"heaters": null}}}'
Received 705.184802: b'{"id": 548553411072, "method": "objects/query", "params": {"objects": {"heaters": null}}}'
Received 705.338350: b'{"id": 548553410256, "method": "gcode/help", "params": {}}'
Received 705.406752: b'{"id": 548553410256, "method": "objects/subscribe", "params": {"objects": {"webhooks": null, "print_stats": null, "heater_bed": null, "extruder": null, "configfile": null, "mcu": null, "pause_resume": null, "display_status": null, "bed_screws": null, "save_variables": null, "gcode_move": null, "virtual_sdcard": null, "tmc2209 stepper_x": null, "tmc2209 stepper_y": null, "tmc2209 stepper_z": null, "tmc2209 extruder": null, "heaters": null, "heater_fan hotend_fan": null, "fan": null, "idle_timeout": null, "motion_report": null, "query_endstops": null, "system_stats": null, "manual_probe": null, "toolhead": null}, "response_template": {"method": "process_status_update"}}}'
Received 705.407376: b'{"id": 548555027936, "method": "objects/subscribe", "params": {"objects": {"webhooks": null, "print_stats": null, "heater_bed": null, "extruder": null, "configfile": null, "mcu": null, "pause_resume": null, "display_status": null, "bed_screws": null, "save_variables": null, "gcode_move": null, "virtual_sdcard": null, "tmc2209 stepper_x": null, "tmc2209 stepper_y": null, "tmc2209 stepper_z": null, "tmc2209 extruder": null, "heaters": null, "heater_fan hotend_fan": null, "fan": null, "idle_timeout": null, "motion_report": null, "query_endstops": null, "system_stats": null, "manual_probe": null, "toolhead": null}, "response_template": {"method": "process_status_update"}}}'
gcode state: absolute_coord=True absolute_extrude=True base_position=[0.0, 0.0, 0.0, 0.0] last_position=[0.0, 0.0, 0.0, 0.0] homing_position=[0.0, 0.0, 0.0, 0.0] speed_factor=0.016666666666666666 extrude_factor=1.0 speed=25.0
Reactor garbage collection: (705.658850043, 0.0, 0.0)
Stats 707.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2174 bytes_read=5657 bytes_retransmit=9 bytes_invalid=0 send_seq=202 receive_seq=202 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000229  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.07 cputime=7.772 memavail=742640 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 708.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2180 bytes_read=5770 bytes_retransmit=9 bytes_invalid=0 send_seq=203 receive_seq=203 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000233  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.07 cputime=7.786 memavail=742644 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 709.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2186 bytes_read=5883 bytes_retransmit=9 bytes_invalid=0 send_seq=204 receive_seq=204 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000255  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.07 cputime=7.802 memavail=742648 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 710.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2192 bytes_read=5982 bytes_retransmit=9 bytes_invalid=0 send_seq=205 receive_seq=205 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000271  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.07 cputime=7.817 memavail=742600 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 711.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2198 bytes_read=6095 bytes_retransmit=9 bytes_invalid=0 send_seq=206 receive_seq=206 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.06 cputime=7.831 memavail=742648 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.9 pwm=0.000
Stats 712.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2204 bytes_read=6220 bytes_retransmit=9 bytes_invalid=0 send_seq=207 receive_seq=207 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.06 cputime=7.850 memavail=743404 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 713.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2210 bytes_read=6319 bytes_retransmit=9 bytes_invalid=0 send_seq=208 receive_seq=208 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.06 cputime=7.868 memavail=742804 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 714.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2216 bytes_read=6432 bytes_retransmit=9 bytes_invalid=0 send_seq=209 receive_seq=209 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.06 cputime=7.881 memavail=742900 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 715.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2222 bytes_read=6545 bytes_retransmit=9 bytes_invalid=0 send_seq=210 receive_seq=210 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000313  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.06 cputime=7.896 memavail=742648 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 716.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2228 bytes_read=6644 bytes_retransmit=9 bytes_invalid=0 send_seq=211 receive_seq=211 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000305  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.06 cputime=7.911 memavail=742908 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 717.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2234 bytes_read=6769 bytes_retransmit=9 bytes_invalid=0 send_seq=212 receive_seq=212 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000300  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.06 cputime=7.925 memavail=742920 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 718.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2240 bytes_read=6885 bytes_retransmit=9 bytes_invalid=0 send_seq=213 receive_seq=213 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000302  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.06 cputime=7.947 memavail=742672 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-26.1 pwm=0.000
Stats 719.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2246 bytes_read=6991 bytes_retransmit=9 bytes_invalid=0 send_seq=214 receive_seq=214 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000303  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.06 cputime=7.971 memavail=742416 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.4 pwm=0.000
Stats 720.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2252 bytes_read=7112 bytes_retransmit=9 bytes_invalid=0 send_seq=215 receive_seq=215 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000306  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.06 cputime=7.994 memavail=742420 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 721.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2258 bytes_read=7233 bytes_retransmit=9 bytes_invalid=0 send_seq=216 receive_seq=216 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000302  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.05 cputime=8.013 memavail=742924 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 722.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2264 bytes_read=7351 bytes_retransmit=9 bytes_invalid=0 send_seq=217 receive_seq=217 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000299  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.05 cputime=8.028 memavail=743624 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 723.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2270 bytes_read=7472 bytes_retransmit=9 bytes_invalid=0 send_seq=218 receive_seq=218 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000295  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.05 cputime=8.042 memavail=743204 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 724.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2276 bytes_read=7593 bytes_retransmit=9 bytes_invalid=0 send_seq=219 receive_seq=219 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000295  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.05 cputime=8.058 memavail=743204 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 725.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2282 bytes_read=7699 bytes_retransmit=9 bytes_invalid=0 send_seq=220 receive_seq=220 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000293  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.05 cputime=8.072 memavail=743408 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 726.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2288 bytes_read=7820 bytes_retransmit=9 bytes_invalid=0 send_seq=221 receive_seq=221 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000293  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.05 cputime=8.089 memavail=743460 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.9 pwm=0.000
Stats 727.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2294 bytes_read=7953 bytes_retransmit=9 bytes_invalid=0 send_seq=222 receive_seq=222 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000294  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.05 cputime=8.110 memavail=743516 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 728.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2300 bytes_read=8059 bytes_retransmit=9 bytes_invalid=0 send_seq=223 receive_seq=223 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000293  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.05 cputime=8.126 memavail=743264 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.9 pwm=0.000
Stats 729.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2306 bytes_read=8180 bytes_retransmit=9 bytes_invalid=0 send_seq=224 receive_seq=224 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000291  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.05 cputime=8.140 memavail=743264 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 730.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2312 bytes_read=8301 bytes_retransmit=9 bytes_invalid=0 send_seq=225 receive_seq=225 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000290  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.05 cputime=8.155 memavail=743524 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 731.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2318 bytes_read=8407 bytes_retransmit=9 bytes_invalid=0 send_seq=226 receive_seq=226 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000290  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.04 cputime=8.169 memavail=744024 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 732.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2324 bytes_read=8540 bytes_retransmit=9 bytes_invalid=0 send_seq=227 receive_seq=227 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000290  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.04 cputime=8.187 memavail=744028 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 733.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2330 bytes_read=8661 bytes_retransmit=9 bytes_invalid=0 send_seq=228 receive_seq=228 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000295  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.04 cputime=8.212 memavail=744088 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 734.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2336 bytes_read=8767 bytes_retransmit=9 bytes_invalid=0 send_seq=229 receive_seq=229 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000293  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.04 cputime=8.226 memavail=744088 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 735.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2342 bytes_read=8888 bytes_retransmit=9 bytes_invalid=0 send_seq=230 receive_seq=230 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000292  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.04 cputime=8.240 memavail=744092 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 736.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2348 bytes_read=9009 bytes_retransmit=9 bytes_invalid=0 send_seq=231 receive_seq=231 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000290  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.12 cputime=8.255 memavail=743336 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 737.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2354 bytes_read=9127 bytes_retransmit=9 bytes_invalid=0 send_seq=232 receive_seq=232 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000289  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.12 cputime=8.269 memavail=743336 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 738.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2360 bytes_read=9248 bytes_retransmit=9 bytes_invalid=0 send_seq=233 receive_seq=233 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000288  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.12 cputime=8.287 memavail=742580 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.9 pwm=0.000
Stats 739.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2366 bytes_read=9369 bytes_retransmit=9 bytes_invalid=0 send_seq=234 receive_seq=234 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000289  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.12 cputime=8.311 memavail=742580 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 740.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2372 bytes_read=9475 bytes_retransmit=9 bytes_invalid=0 send_seq=235 receive_seq=235 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000290  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.12 cputime=8.336 memavail=742580 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-26.1 pwm=0.000
Stats 741.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2378 bytes_read=9611 bytes_retransmit=9 bytes_invalid=0 send_seq=236 receive_seq=236 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000289  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.03 cputime=8.350 memavail=742580 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 742.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2384 bytes_read=9729 bytes_retransmit=9 bytes_invalid=0 send_seq=237 receive_seq=237 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000289  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.03 cputime=8.365 memavail=742580 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 743.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2390 bytes_read=9835 bytes_retransmit=9 bytes_invalid=0 send_seq=238 receive_seq=238 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000289  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.03 cputime=8.379 memavail=743904 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 744.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2396 bytes_read=9971 bytes_retransmit=9 bytes_invalid=0 send_seq=239 receive_seq=239 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000288  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.03 cputime=8.394 memavail=743904 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 745.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2408 bytes_read=10093 bytes_retransmit=9 bytes_invalid=0 send_seq=241 receive_seq=241 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000290  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.03 cputime=8.410 memavail=743904 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 746.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2414 bytes_read=10199 bytes_retransmit=9 bytes_invalid=0 send_seq=242 receive_seq=242 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000289  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.03 cputime=8.433 memavail=743828 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 747.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2420 bytes_read=10347 bytes_retransmit=9 bytes_invalid=0 send_seq=243 receive_seq=243 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000289  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.03 cputime=8.447 memavail=743904 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 748.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2426 bytes_read=10453 bytes_retransmit=9 bytes_invalid=0 send_seq=244 receive_seq=244 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000288  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.03 cputime=8.462 memavail=744156 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 749.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2432 bytes_read=10559 bytes_retransmit=9 bytes_invalid=0 send_seq=245 receive_seq=245 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000287  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.03 cputime=8.476 memavail=744156 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 750.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2438 bytes_read=10695 bytes_retransmit=9 bytes_invalid=0 send_seq=246 receive_seq=246 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000288  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.03 cputime=8.491 memavail=743900 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 751.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2444 bytes_read=10801 bytes_retransmit=9 bytes_invalid=0 send_seq=247 receive_seq=247 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000287  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.02 cputime=8.505 memavail=743904 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 752.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2450 bytes_read=10919 bytes_retransmit=9 bytes_invalid=0 send_seq=248 receive_seq=248 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000296  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.02 cputime=8.530 memavail=743908 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 753.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2456 bytes_read=11055 bytes_retransmit=9 bytes_invalid=0 send_seq=249 receive_seq=249 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000296  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.02 cputime=8.547 memavail=744188 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 754.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2462 bytes_read=11161 bytes_retransmit=9 bytes_invalid=0 send_seq=250 receive_seq=250 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000295  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.02 cputime=8.562 memavail=743684 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 755.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2468 bytes_read=11267 bytes_retransmit=9 bytes_invalid=0 send_seq=251 receive_seq=251 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000294  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.02 cputime=8.576 memavail=743684 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 756.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2474 bytes_read=11403 bytes_retransmit=9 bytes_invalid=0 send_seq=252 receive_seq=252 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000294  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.02 cputime=8.592 memavail=743684 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 757.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2480 bytes_read=11521 bytes_retransmit=9 bytes_invalid=0 send_seq=253 receive_seq=253 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000294  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.02 cputime=8.605 memavail=743676 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 758.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2486 bytes_read=11627 bytes_retransmit=9 bytes_invalid=0 send_seq=254 receive_seq=254 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000294  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.02 cputime=8.626 memavail=743172 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 759.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2492 bytes_read=11763 bytes_retransmit=9 bytes_invalid=0 send_seq=255 receive_seq=255 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000294  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.02 cputime=8.649 memavail=743172 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.6 pwm=0.000
Stats 760.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2498 bytes_read=11869 bytes_retransmit=9 bytes_invalid=0 send_seq=256 receive_seq=256 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000294  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.02 cputime=8.672 memavail=743172 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Stats 761.5: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2504 bytes_read=11975 bytes_retransmit=9 bytes_invalid=0 send_seq=257 receive_seq=257 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000294  heater_bed: target=0 temp=21.7 pwm=0.000 sysload=1.02 cputime=8.693 memavail=743172 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=-25.7 pwm=0.000
Starting Klippy...
Args: ['/home/pi/klipper/klippy/klippy.py', '/home/pi/printer_data/config/printer.cfg', '-I', '/home/pi/printer_data/comms/klippy.serial', '-l', '/home/pi/printer_data/logs/klippy.log', '-a', '/home/pi/printer_data/comms/klippy.sock']
Git version: 'v0.11.0-22-gfe0fc296'
CPU: 4 core ?
Python: '3.9.2 (default, Feb 28 2021, 17:03:44) \n[GCC 10.2.1 20210110]'
Start printer at Thu Dec 22 15:46:31 2022 (1671752792.0 35.2)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00
restart_method = command

[printer]
kinematics = corexy
max_velocity = 200
max_accel = 2000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[stepper_x]
step_pin = gpio11
dir_pin = gpio10
enable_pin = !gpio12
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio4
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 0
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_y]
step_pin = gpio6
dir_pin = gpio5
enable_pin = !gpio7
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio3
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 2
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_z]
step_pin = gpio19
dir_pin = !gpio28
enable_pin = !gpio2
rotation_distance = 8
microsteps = 32
endstop_pin = ^gpio25
position_endstop = -0.10
position_max = 120
position_min = -1.5
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 1
interpolate = False
run_current = 0.37
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = gpio14
dir_pin = gpio13
enable_pin = !gpio15
rotation_distance = 13.1544
gear_ratio = 50:10
microsteps = 32
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = gpio23
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio27
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 170
max_extrude_only_distance = 150
max_extrude_cross_section = 0.9

[tmc2209 extruder]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 3
interpolate = False
run_current = 0.6
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = gpio21
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio26
smooth_time = 3.0
max_power = 0.5
min_temp = 0
max_temp = 200
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458

[heater_fan hotend_fan]
pin = gpio18
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = gpio17
max_power = 1.0
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[idle_timeout]
timeout = 36000

[safe_z_home]
home_xy_position = 120,120
speed = 50.0
z_hop = 5
=======================
Extruder max_extrude_ratio=0.374177
mcu 'mcu': Starting serial connect
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Starting heater checks for heater_bed
Starting heater checks for extruder
Stats 37.8: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2142 bytes_read=5437 bytes_retransmit=9 bytes_invalid=0 send_seq=195 receive_seq=195 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=11999818  heater_bed: target=0 temp=0.0 pwm=0.000 sysload=1.31 cputime=2.454 memavail=765748 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks client 547782628592: New connection
Stats 38.8: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2148 bytes_read=5513 bytes_retransmit=9 bytes_invalid=0 send_seq=196 receive_seq=196 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000036  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.31 cputime=2.462 memavail=764964 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
webhooks client 547782628592: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
webhooks: registering remote method 'shutdown_machine' for connection id: 547782628592
webhooks: registering remote method 'reboot_machine' for connection id: 547782628592
webhooks: registering remote method 'pause_job_queue' for connection id: 547782628592
webhooks: registering remote method 'start_job_queue' for connection id: 547782628592
Stats 39.8: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2154 bytes_read=5633 bytes_retransmit=9 bytes_invalid=0 send_seq=197 receive_seq=197 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000147  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.31 cputime=2.488 memavail=764220 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 40.8: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2160 bytes_read=5739 bytes_retransmit=9 bytes_invalid=0 send_seq=198 receive_seq=198 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000177  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.21 cputime=2.499 memavail=764224 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 41.8: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2166 bytes_read=5875 bytes_retransmit=9 bytes_invalid=0 send_seq=199 receive_seq=199 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000204  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.21 cputime=2.509 memavail=764224 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 42.8: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2172 bytes_read=5981 bytes_retransmit=9 bytes_invalid=0 send_seq=200 receive_seq=200 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000211  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.21 cputime=2.518 memavail=764224 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 43.8: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2178 bytes_read=6087 bytes_retransmit=9 bytes_invalid=0 send_seq=201 receive_seq=201 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000244  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.21 cputime=2.531 memavail=764224 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 44.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2184 bytes_read=6235 bytes_retransmit=9 bytes_invalid=0 send_seq=202 receive_seq=202 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000265  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.21 cputime=2.547 memavail=763776 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 45.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2190 bytes_read=6341 bytes_retransmit=9 bytes_invalid=0 send_seq=203 receive_seq=203 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000272  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.35 cputime=2.562 memavail=763776 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 46.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2196 bytes_read=6447 bytes_retransmit=9 bytes_invalid=0 send_seq=204 receive_seq=204 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.35 cputime=2.576 memavail=763788 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 47.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2202 bytes_read=6583 bytes_retransmit=9 bytes_invalid=0 send_seq=205 receive_seq=205 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000289  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.35 cputime=2.591 memavail=762532 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 48.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2208 bytes_read=6689 bytes_retransmit=9 bytes_invalid=0 send_seq=206 receive_seq=206 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000294  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.35 cputime=2.604 memavail=762532 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 49.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2214 bytes_read=6822 bytes_retransmit=9 bytes_invalid=0 send_seq=207 receive_seq=207 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000296  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.35 cputime=2.619 memavail=762532 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 50.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2220 bytes_read=6943 bytes_retransmit=9 bytes_invalid=0 send_seq=208 receive_seq=208 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000296  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.40 cputime=2.634 memavail=762532 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 51.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2226 bytes_read=7049 bytes_retransmit=9 bytes_invalid=0 send_seq=209 receive_seq=209 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000310  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.40 cputime=2.648 memavail=762532 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 52.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2232 bytes_read=7170 bytes_retransmit=9 bytes_invalid=0 send_seq=210 receive_seq=210 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000308  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.40 cputime=2.663 memavail=762532 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 53.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2238 bytes_read=7291 bytes_retransmit=9 bytes_invalid=0 send_seq=211 receive_seq=211 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000305  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.40 cputime=2.679 memavail=762532 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 79.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2430 bytes_read=10388 bytes_retransmit=9 bytes_invalid=0 send_seq=240 receive_seq=240 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000274  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.26 cputime=3.032 memavail=757044 print_time=84.854 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 80.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2436 bytes_read=10521 bytes_retransmit=9 bytes_invalid=0 send_seq=241 receive_seq=241 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000274  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.24 cputime=3.056 memavail=757044 print_time=84.854 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 81.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2457 bytes_read=10632 bytes_retransmit=9 bytes_invalid=0 send_seq=243 receive_seq=243 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000275  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.24 cputime=3.083 memavail=757044 print_time=86.968 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 82.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2463 bytes_read=10753 bytes_retransmit=9 bytes_invalid=0 send_seq=244 receive_seq=244 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.24 cputime=3.108 memavail=757044 print_time=86.968 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 83.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2482 bytes_read=10879 bytes_retransmit=9 bytes_invalid=0 send_seq=246 receive_seq=246 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.24 cputime=3.134 memavail=757044 print_time=89.595 buffer_time=0.056 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 84.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2488 bytes_read=10985 bytes_retransmit=9 bytes_invalid=0 send_seq=247 receive_seq=247 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.24 cputime=3.158 memavail=757044 print_time=89.595 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 85.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2494 bytes_read=11118 bytes_retransmit=9 bytes_invalid=0 send_seq=248 receive_seq=248 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.22 cputime=3.183 memavail=757044 print_time=89.595 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 86.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2500 bytes_read=11239 bytes_retransmit=9 bytes_invalid=0 send_seq=249 receive_seq=249 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.22 cputime=3.206 memavail=757044 print_time=89.595 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 87.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2506 bytes_read=11345 bytes_retransmit=9 bytes_invalid=0 send_seq=250 receive_seq=250 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.22 cputime=3.230 memavail=757044 print_time=89.595 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 88.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2512 bytes_read=11466 bytes_retransmit=9 bytes_invalid=0 send_seq=251 receive_seq=251 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.22 cputime=3.254 memavail=757044 print_time=89.595 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 89.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2518 bytes_read=11587 bytes_retransmit=9 bytes_invalid=0 send_seq=252 receive_seq=252 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.22 cputime=3.278 memavail=757064 print_time=89.595 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.6 pwm=0.000
Stats 90.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2524 bytes_read=11705 bytes_retransmit=9 bytes_invalid=0 send_seq=253 receive_seq=253 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.12 cputime=3.301 memavail=757064 print_time=89.595 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 91.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2530 bytes_read=11826 bytes_retransmit=9 bytes_invalid=0 send_seq=254 receive_seq=254 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.12 cputime=3.326 memavail=757064 print_time=89.595 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 92.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2557 bytes_read=11992 bytes_retransmit=9 bytes_invalid=0 send_seq=258 receive_seq=258 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.12 cputime=3.360 memavail=757064 print_time=98.328 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 93.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2563 bytes_read=12098 bytes_retransmit=9 bytes_invalid=0 send_seq=259 receive_seq=259 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.12 cputime=3.384 memavail=757064 print_time=98.328 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 94.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2569 bytes_read=12219 bytes_retransmit=9 bytes_invalid=0 send_seq=260 receive_seq=260 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.12 cputime=3.408 memavail=757064 print_time=98.328 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 95.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2575 bytes_read=12352 bytes_retransmit=9 bytes_invalid=0 send_seq=261 receive_seq=261 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.432 memavail=757064 print_time=98.328 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 96.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2581 bytes_read=12458 bytes_retransmit=9 bytes_invalid=0 send_seq=262 receive_seq=262 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.03 cputime=3.454 memavail=757064 print_time=98.328 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 97.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2587 bytes_read=12579 bytes_retransmit=9 bytes_invalid=0 send_seq=263 receive_seq=263 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=2 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.481 memavail=756560 print_time=103.758 buffer_time=0.210 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 98.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2614 bytes_read=12745 bytes_retransmit=9 bytes_invalid=0 send_seq=267 receive_seq=267 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.512 memavail=756572 print_time=103.758 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 99.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2620 bytes_read=12851 bytes_retransmit=9 bytes_invalid=0 send_seq=268 receive_seq=268 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.535 memavail=756572 print_time=103.758 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 100.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2626 bytes_read=12984 bytes_retransmit=9 bytes_invalid=0 send_seq=269 receive_seq=269 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.559 memavail=756572 print_time=103.758 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 101.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2632 bytes_read=13105 bytes_retransmit=9 bytes_invalid=0 send_seq=270 receive_seq=270 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.584 memavail=756572 print_time=103.758 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 102.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2638 bytes_read=13211 bytes_retransmit=9 bytes_invalid=0 send_seq=271 receive_seq=271 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.606 memavail=756572 print_time=103.758 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 103.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2644 bytes_read=13332 bytes_retransmit=9 bytes_invalid=0 send_seq=272 receive_seq=272 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.631 memavail=756572 print_time=103.758 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 104.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2650 bytes_read=13453 bytes_retransmit=9 bytes_invalid=0 send_seq=273 receive_seq=273 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.654 memavail=756572 print_time=103.758 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 105.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2656 bytes_read=13571 bytes_retransmit=9 bytes_invalid=0 send_seq=274 receive_seq=274 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.678 memavail=756572 print_time=103.758 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 106.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2662 bytes_read=13692 bytes_retransmit=9 bytes_invalid=0 send_seq=275 receive_seq=275 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.701 memavail=756572 print_time=103.758 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 107.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2668 bytes_read=13813 bytes_retransmit=9 bytes_invalid=0 send_seq=276 receive_seq=276 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=2 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.726 memavail=756580 print_time=113.692 buffer_time=0.138 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 108.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2695 bytes_read=13964 bytes_retransmit=9 bytes_invalid=0 send_seq=280 receive_seq=280 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.744 memavail=756580 print_time=113.692 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 109.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2701 bytes_read=14085 bytes_retransmit=9 bytes_invalid=0 send_seq=281 receive_seq=281 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.758 memavail=756580 print_time=113.692 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 110.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2707 bytes_read=14218 bytes_retransmit=9 bytes_invalid=0 send_seq=282 receive_seq=282 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.773 memavail=756580 print_time=113.692 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 111.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2713 bytes_read=14324 bytes_retransmit=9 bytes_invalid=0 send_seq=283 receive_seq=283 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.786 memavail=756580 print_time=113.692 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 112.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2719 bytes_read=14445 bytes_retransmit=9 bytes_invalid=0 send_seq=284 receive_seq=284 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.801 memavail=756580 print_time=113.692 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 113.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2725 bytes_read=14566 bytes_retransmit=9 bytes_invalid=0 send_seq=285 receive_seq=285 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.825 memavail=756580 print_time=113.692 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 114.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2731 bytes_read=14672 bytes_retransmit=9 bytes_invalid=0 send_seq=286 receive_seq=286 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.03 cputime=3.849 memavail=756580 print_time=113.692 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
TMC 'stepper_z' reports GSTAT:      00000001 reset=1(Reset)
TMC 'stepper_z' reports GSTAT:      00000000
Stats 115.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=3612 bytes_read=15212 bytes_retransmit=9 bytes_invalid=0 send_seq=316 receive_seq=316 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=3.958 memavail=756580 print_time=122.052 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
TMC 'stepper_x' reports GSTAT:      00000001 reset=1(Reset)
TMC 'stepper_y' reports GSTAT:      00000001 reset=1(Reset)
TMC 'stepper_x' reports GSTAT:      00000000
TMC 'stepper_y' reports GSTAT:      00000000
Stats 116.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=5028 bytes_read=16358 bytes_retransmit=9 bytes_invalid=0 send_seq=384 receive_seq=384 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.134 memavail=756580 print_time=122.727 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 117.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=5800 bytes_read=16986 bytes_retransmit=9 bytes_invalid=0 send_seq=425 receive_seq=425 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.233 memavail=755824 print_time=123.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 118.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=6658 bytes_read=17631 bytes_retransmit=9 bytes_invalid=0 send_seq=469 receive_seq=469 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.289 memavail=755832 print_time=124.747 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Pausing toolhead to calculate stepper_z phase offset
Stats 119.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=6991 bytes_read=18100 bytes_retransmit=9 bytes_invalid=0 send_seq=491 receive_seq=491 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000276  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.336 memavail=755832 print_time=124.989 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 120.8: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000007 mcu_task_stddev=0.000008 bytes_write=7081 bytes_read=18358 bytes_retransmit=9 bytes_invalid=0 send_seq=498 receive_seq=498 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000276  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.364 memavail=755832 print_time=124.989 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 121.8: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000007 mcu_task_stddev=0.000008 bytes_write=7171 bytes_read=18617 bytes_retransmit=9 bytes_invalid=0 send_seq=505 receive_seq=505 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000275  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.391 memavail=755832 print_time=124.989 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 122.8: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000007 mcu_task_stddev=0.000008 bytes_write=7261 bytes_read=18876 bytes_retransmit=9 bytes_invalid=0 send_seq=512 receive_seq=512 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000275  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.420 memavail=755832 print_time=124.989 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 123.8: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000007 mcu_task_stddev=0.000008 bytes_write=7351 bytes_read=19120 bytes_retransmit=9 bytes_invalid=0 send_seq=519 receive_seq=519 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000275  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.468 memavail=755832 print_time=124.989 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Move out of range: 120.000 170.000 5.000 [0.000]
Stats 124.8: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000007 mcu_task_stddev=0.000008 bytes_write=7441 bytes_read=19379 bytes_retransmit=9 bytes_invalid=0 send_seq=526 receive_seq=526 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000276  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.520 memavail=755580 print_time=124.989 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 125.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=7531 bytes_read=19651 bytes_retransmit=9 bytes_invalid=0 send_seq=533 receive_seq=533 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000276  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.568 memavail=755684 print_time=124.989 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 126.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=7621 bytes_read=19895 bytes_retransmit=9 bytes_invalid=0 send_seq=540 receive_seq=540 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.614 memavail=755684 print_time=124.989 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.6 pwm=0.000
Stats 127.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=7711 bytes_read=20154 bytes_retransmit=9 bytes_invalid=0 send_seq=547 receive_seq=547 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.660 memavail=755688 print_time=124.989 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Move out of range: 130.000 120.000 5.000 [0.000]
Stats 128.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=7801 bytes_read=20413 bytes_retransmit=9 bytes_invalid=0 send_seq=554 receive_seq=554 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.710 memavail=755772 print_time=124.989 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 129.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=7891 bytes_read=20657 bytes_retransmit=9 bytes_invalid=0 send_seq=561 receive_seq=561 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.755 memavail=755772 print_time=124.989 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 130.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=7981 bytes_read=20929 bytes_retransmit=9 bytes_invalid=0 send_seq=568 receive_seq=568 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.804 memavail=755776 print_time=124.989 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 131.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=8267 bytes_read=21208 bytes_retransmit=9 bytes_invalid=0 send_seq=579 receive_seq=579 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.853 memavail=755776 print_time=136.961 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 132.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=8545 bytes_read=21472 bytes_retransmit=9 bytes_invalid=0 send_seq=590 receive_seq=590 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.904 memavail=755776 print_time=138.184 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Move out of range: 118.000 121.000 5.000 [0.000]
Stats 133.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=8635 bytes_read=21731 bytes_retransmit=9 bytes_invalid=0 send_seq=597 receive_seq=597 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=4.955 memavail=755776 print_time=138.184 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 134.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=8916 bytes_read=22010 bytes_retransmit=9 bytes_invalid=0 send_seq=608 receive_seq=608 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=5.004 memavail=755776 print_time=140.509 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 135.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=9194 bytes_read=22288 bytes_retransmit=9 bytes_invalid=0 send_seq=619 receive_seq=619 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=5.055 memavail=755776 print_time=141.792 buffer_time=0.221 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 136.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=9290 bytes_read=22563 bytes_retransmit=9 bytes_invalid=0 send_seq=627 receive_seq=627 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=5.103 memavail=755776 print_time=141.792 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 137.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=9380 bytes_read=22822 bytes_retransmit=9 bytes_invalid=0 send_seq=634 receive_seq=634 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=5.149 memavail=755776 print_time=141.792 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 138.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=9470 bytes_read=23066 bytes_retransmit=9 bytes_invalid=0 send_seq=641 receive_seq=641 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=5.176 memavail=755784 print_time=141.792 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 139.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=9560 bytes_read=23325 bytes_retransmit=9 bytes_invalid=0 send_seq=648 receive_seq=648 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.02 cputime=5.203 memavail=755784 print_time=141.792 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 140.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000006 bytes_write=9650 bytes_read=23598 bytes_retransmit=9 bytes_invalid=0 send_seq=655 receive_seq=655 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.26 cputime=5.230 memavail=755784 print_time=141.792 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 141.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000006 bytes_write=9740 bytes_read=23842 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.26 cputime=5.256 memavail=755784 print_time=141.792 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 142.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000006 bytes_write=9830 bytes_read=24101 bytes_retransmit=9 bytes_invalid=0 send_seq=669 receive_seq=669 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.26 cputime=5.287 memavail=755784 print_time=141.792 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 143.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000006 bytes_write=9920 bytes_read=24360 bytes_retransmit=9 bytes_invalid=0 send_seq=676 receive_seq=676 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.26 cputime=5.333 memavail=755784 print_time=141.792 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 144.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000006 bytes_write=10010 bytes_read=24604 bytes_retransmit=9 bytes_invalid=0 send_seq=683 receive_seq=683 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.26 cputime=5.379 memavail=755784 print_time=141.792 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 145.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=10100 bytes_read=24876 bytes_retransmit=9 bytes_invalid=0 send_seq=690 receive_seq=690 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.16 cputime=5.424 memavail=755784 print_time=141.792 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 146.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=10190 bytes_read=25135 bytes_retransmit=9 bytes_invalid=0 send_seq=697 receive_seq=697 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.16 cputime=5.470 memavail=755788 print_time=141.792 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 147.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=10304 bytes_read=25379 bytes_retransmit=9 bytes_invalid=0 send_seq=704 receive_seq=704 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.16 cputime=5.520 memavail=756312 print_time=153.779 buffer_time=0.200 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 148.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=10310 bytes_read=25500 bytes_retransmit=9 bytes_invalid=0 send_seq=705 receive_seq=705 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.16 cputime=5.543 memavail=756312 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 149.8: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=10316 bytes_read=25621 bytes_retransmit=9 bytes_invalid=0 send_seq=706 receive_seq=706 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.16 cputime=5.567 memavail=756312 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 150.9: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=10322 bytes_read=25740 bytes_retransmit=9 bytes_invalid=0 send_seq=707 receive_seq=707 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.06 cputime=5.590 memavail=756312 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 151.9: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=10328 bytes_read=25861 bytes_retransmit=9 bytes_invalid=0 send_seq=708 receive_seq=708 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.06 cputime=5.614 memavail=756312 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 152.9: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=10334 bytes_read=25982 bytes_retransmit=9 bytes_invalid=0 send_seq=709 receive_seq=709 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.06 cputime=5.638 memavail=756312 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 153.9: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=10340 bytes_read=26088 bytes_retransmit=9 bytes_invalid=0 send_seq=710 receive_seq=710 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.06 cputime=5.661 memavail=756316 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 154.9: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000006 mcu_task_stddev=0.000005 bytes_write=10346 bytes_read=26209 bytes_retransmit=9 bytes_invalid=0 send_seq=711 receive_seq=711 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.06 cputime=5.685 memavail=756316 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 155.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10352 bytes_read=26342 bytes_retransmit=9 bytes_invalid=0 send_seq=712 receive_seq=712 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.709 memavail=756316 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 156.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10358 bytes_read=26448 bytes_retransmit=9 bytes_invalid=0 send_seq=713 receive_seq=713 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.732 memavail=756316 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 157.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10364 bytes_read=26569 bytes_retransmit=9 bytes_invalid=0 send_seq=714 receive_seq=714 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.754 memavail=755780 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 158.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10370 bytes_read=26690 bytes_retransmit=9 bytes_invalid=0 send_seq=715 receive_seq=715 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.768 memavail=755820 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 159.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10376 bytes_read=26796 bytes_retransmit=9 bytes_invalid=0 send_seq=716 receive_seq=716 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.781 memavail=755820 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 160.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10382 bytes_read=26929 bytes_retransmit=9 bytes_invalid=0 send_seq=717 receive_seq=717 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.795 memavail=755820 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 161.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10388 bytes_read=27050 bytes_retransmit=9 bytes_invalid=0 send_seq=718 receive_seq=718 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.809 memavail=755820 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 162.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10394 bytes_read=27156 bytes_retransmit=9 bytes_invalid=0 send_seq=719 receive_seq=719 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.825 memavail=755820 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 163.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10400 bytes_read=27277 bytes_retransmit=9 bytes_invalid=0 send_seq=720 receive_seq=720 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.849 memavail=755820 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 164.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10406 bytes_read=27398 bytes_retransmit=9 bytes_invalid=0 send_seq=721 receive_seq=721 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.873 memavail=755820 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 165.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10412 bytes_read=27516 bytes_retransmit=9 bytes_invalid=0 send_seq=722 receive_seq=722 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.897 memavail=755820 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 166.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10418 bytes_read=27652 bytes_retransmit=9 bytes_invalid=0 send_seq=723 receive_seq=723 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.921 memavail=755820 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 167.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10424 bytes_read=27758 bytes_retransmit=9 bytes_invalid=0 send_seq=724 receive_seq=724 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.943 memavail=756328 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 168.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10430 bytes_read=27864 bytes_retransmit=9 bytes_invalid=0 send_seq=725 receive_seq=725 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.966 memavail=756356 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 169.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10436 bytes_read=28000 bytes_retransmit=9 bytes_invalid=0 send_seq=726 receive_seq=726 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=5.991 memavail=756356 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 170.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10442 bytes_read=28118 bytes_retransmit=9 bytes_invalid=0 send_seq=727 receive_seq=727 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=6.015 memavail=756356 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 171.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10448 bytes_read=28224 bytes_retransmit=9 bytes_invalid=0 send_seq=728 receive_seq=728 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=6.037 memavail=756356 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 172.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10454 bytes_read=28360 bytes_retransmit=9 bytes_invalid=0 send_seq=729 receive_seq=729 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=6.062 memavail=756356 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 173.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10460 bytes_read=28466 bytes_retransmit=9 bytes_invalid=0 send_seq=730 receive_seq=730 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=6.085 memavail=756356 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 174.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10466 bytes_read=28572 bytes_retransmit=9 bytes_invalid=0 send_seq=731 receive_seq=731 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=6.109 memavail=756356 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 175.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10472 bytes_read=28720 bytes_retransmit=9 bytes_invalid=0 send_seq=732 receive_seq=732 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=6.133 memavail=756356 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 176.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10478 bytes_read=28826 bytes_retransmit=9 bytes_invalid=0 send_seq=733 receive_seq=733 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=0.98 cputime=6.157 memavail=756356 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 177.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10484 bytes_read=28932 bytes_retransmit=9 bytes_invalid=0 send_seq=734 receive_seq=734 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=6.180 memavail=755860 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 178.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10490 bytes_read=29068 bytes_retransmit=9 bytes_invalid=0 send_seq=735 receive_seq=735 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=6.203 memavail=755860 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 179.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10496 bytes_read=29174 bytes_retransmit=9 bytes_invalid=0 send_seq=736 receive_seq=736 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.98 cputime=6.227 memavail=755860 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 180.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10502 bytes_read=29280 bytes_retransmit=9 bytes_invalid=0 send_seq=737 receive_seq=737 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.99 cputime=6.250 memavail=755860 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 181.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10508 bytes_read=29428 bytes_retransmit=9 bytes_invalid=0 send_seq=738 receive_seq=738 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.99 cputime=6.274 memavail=755860 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 182.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10514 bytes_read=29534 bytes_retransmit=9 bytes_invalid=0 send_seq=739 receive_seq=739 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.99 cputime=6.297 memavail=755860 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 183.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10520 bytes_read=29640 bytes_retransmit=9 bytes_invalid=0 send_seq=740 receive_seq=740 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.99 cputime=6.315 memavail=755484 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 184.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10526 bytes_read=29776 bytes_retransmit=9 bytes_invalid=0 send_seq=741 receive_seq=741 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=0.99 cputime=6.330 memavail=755492 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 185.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10532 bytes_read=29882 bytes_retransmit=9 bytes_invalid=0 send_seq=742 receive_seq=742 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.23 cputime=6.343 memavail=755496 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 186.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10538 bytes_read=30000 bytes_retransmit=9 bytes_invalid=0 send_seq=743 receive_seq=743 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.23 cputime=6.357 memavail=755496 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 187.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10544 bytes_read=30136 bytes_retransmit=9 bytes_invalid=0 send_seq=744 receive_seq=744 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.23 cputime=6.371 memavail=755304 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 188.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10550 bytes_read=30242 bytes_retransmit=9 bytes_invalid=0 send_seq=745 receive_seq=745 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.23 cputime=6.392 memavail=755304 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 189.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10556 bytes_read=30348 bytes_retransmit=9 bytes_invalid=0 send_seq=746 receive_seq=746 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.23 cputime=6.415 memavail=755304 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 190.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10562 bytes_read=30484 bytes_retransmit=9 bytes_invalid=0 send_seq=747 receive_seq=747 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.45 cputime=6.437 memavail=755304 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 191.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=10568 bytes_read=30602 bytes_retransmit=9 bytes_invalid=0 send_seq=748 receive_seq=748 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.45 cputime=6.460 memavail=755304 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 192.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=10574 bytes_read=30708 bytes_retransmit=9 bytes_invalid=0 send_seq=749 receive_seq=749 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.45 cputime=6.485 memavail=755304 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 193.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=10580 bytes_read=30844 bytes_retransmit=9 bytes_invalid=0 send_seq=750 receive_seq=750 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.45 cputime=6.509 memavail=755304 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 194.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=10586 bytes_read=30950 bytes_retransmit=9 bytes_invalid=0 send_seq=751 receive_seq=751 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.45 cputime=6.533 memavail=755304 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 195.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=10592 bytes_read=31056 bytes_retransmit=9 bytes_invalid=0 send_seq=752 receive_seq=752 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.65 cputime=6.556 memavail=755364 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 196.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10598 bytes_read=31204 bytes_retransmit=9 bytes_invalid=0 send_seq=753 receive_seq=753 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.65 cputime=6.581 memavail=755424 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 197.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10604 bytes_read=31310 bytes_retransmit=9 bytes_invalid=0 send_seq=754 receive_seq=754 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.65 cputime=6.603 memavail=755484 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 198.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10616 bytes_read=31432 bytes_retransmit=9 bytes_invalid=0 send_seq=756 receive_seq=756 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.65 cputime=6.618 memavail=755484 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 199.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10622 bytes_read=31568 bytes_retransmit=9 bytes_invalid=0 send_seq=757 receive_seq=757 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.65 cputime=6.632 memavail=755484 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 200.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10628 bytes_read=31674 bytes_retransmit=9 bytes_invalid=0 send_seq=758 receive_seq=758 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.92 cputime=6.645 memavail=755484 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 201.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10634 bytes_read=31792 bytes_retransmit=9 bytes_invalid=0 send_seq=759 receive_seq=759 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.92 cputime=6.659 memavail=755484 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 202.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10640 bytes_read=31928 bytes_retransmit=9 bytes_invalid=0 send_seq=760 receive_seq=760 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.92 cputime=6.675 memavail=755484 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 203.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10646 bytes_read=32034 bytes_retransmit=9 bytes_invalid=0 send_seq=761 receive_seq=761 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.92 cputime=6.698 memavail=755484 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 204.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10652 bytes_read=32140 bytes_retransmit=9 bytes_invalid=0 send_seq=762 receive_seq=762 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=1.92 cputime=6.721 memavail=755484 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 205.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10658 bytes_read=32276 bytes_retransmit=9 bytes_invalid=0 send_seq=763 receive_seq=763 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.09 cputime=6.746 memavail=755488 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 206.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10664 bytes_read=32394 bytes_retransmit=9 bytes_invalid=0 send_seq=764 receive_seq=764 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.09 cputime=6.769 memavail=755488 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 207.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=10670 bytes_read=32500 bytes_retransmit=9 bytes_invalid=0 send_seq=765 receive_seq=765 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.09 cputime=6.793 memavail=755264 print_time=153.779 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 213.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=11531 bytes_read=33571 bytes_retransmit=9 bytes_invalid=0 send_seq=797 receive_seq=797 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.08 cputime=6.945 memavail=755352 print_time=219.944 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 214.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=12619 bytes_read=34567 bytes_retransmit=9 bytes_invalid=0 send_seq=859 receive_seq=859 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=2.08 cputime=7.078 memavail=755352 print_time=220.794 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 215.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=13199 bytes_read=35091 bytes_retransmit=9 bytes_invalid=0 send_seq=894 receive_seq=894 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.24 cputime=7.125 memavail=755352 print_time=221.794 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 216.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=13779 bytes_read=35644 bytes_retransmit=9 bytes_invalid=0 send_seq=929 receive_seq=929 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=2.24 cputime=7.172 memavail=755352 print_time=222.794 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 217.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=14369 bytes_read=36173 bytes_retransmit=9 bytes_invalid=0 send_seq=962 receive_seq=962 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.24 cputime=7.218 memavail=755860 print_time=223.644 buffer_time=0.021 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
No trigger on x after full movement
Stats 218.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=14514 bytes_read=36448 bytes_retransmit=9 bytes_invalid=0 send_seq=974 receive_seq=974 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.24 cputime=7.247 memavail=755940 print_time=224.210 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 219.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=14520 bytes_read=36569 bytes_retransmit=9 bytes_invalid=0 send_seq=975 receive_seq=975 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.24 cputime=7.268 memavail=755940 print_time=224.210 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 220.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=14526 bytes_read=36690 bytes_retransmit=9 bytes_invalid=0 send_seq=976 receive_seq=976 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.62 cputime=7.291 memavail=755940 print_time=224.210 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 221.9: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000006 mcu_task_stddev=0.000006 bytes_write=14532 bytes_read=36810 bytes_retransmit=9 bytes_invalid=0 send_seq=977 receive_seq=977 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000278  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.62 cputime=7.314 memavail=755716 print_time=224.210 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 222.9: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000006 mcu_task_stddev=0.000006 bytes_write=14538 bytes_read=36931 bytes_retransmit=9 bytes_invalid=0 send_seq=978 receive_seq=978 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=2.62 cputime=7.338 memavail=755716 print_time=224.210 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 223.9: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000006 mcu_task_stddev=0.000006 bytes_write=14544 bytes_read=37052 bytes_retransmit=9 bytes_invalid=0 send_seq=979 receive_seq=979 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.62 cputime=7.361 memavail=755716 print_time=224.210 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Must home X and Y axes first
Stats 224.9: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000006 mcu_task_stddev=0.000006 bytes_write=15170 bytes_read=37288 bytes_retransmit=9 bytes_invalid=0 send_seq=995 receive_seq=994 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.62 cputime=7.411 memavail=755716 print_time=231.512 buffer_time=0.884 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 225.9: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000006 mcu_task_stddev=0.000006 bytes_write=15336 bytes_read=37622 bytes_retransmit=9 bytes_invalid=0 send_seq=1006 receive_seq=1006 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.97 cputime=7.465 memavail=755716 print_time=231.512 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 226.9: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000007 mcu_task_stddev=0.000008 bytes_write=15370 bytes_read=37803 bytes_retransmit=9 bytes_invalid=0 send_seq=1009 receive_seq=1009 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.97 cputime=7.496 memavail=755716 print_time=231.512 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Must home X and Y axes first
Stats 227.9: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000007 mcu_task_stddev=0.000008 bytes_write=15912 bytes_read=37995 bytes_retransmit=9 bytes_invalid=0 send_seq=1020 receive_seq=1020 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.97 cputime=7.537 memavail=755536 print_time=234.016 buffer_time=0.385 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 228.9: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000007 mcu_task_stddev=0.000008 bytes_write=15946 bytes_read=38162 bytes_retransmit=9 bytes_invalid=0 send_seq=1023 receive_seq=1023 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.97 cputime=7.568 memavail=755540 print_time=234.016 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 229.9: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000007 mcu_task_stddev=0.000008 bytes_write=16517 bytes_read=38374 bytes_retransmit=9 bytes_invalid=0 send_seq=1035 receive_seq=1035 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=15 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=2.97 cputime=7.615 memavail=755540 print_time=236.418 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 230.9: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000007 mcu_task_stddev=0.000008 bytes_write=17691 bytes_read=39374 bytes_retransmit=9 bytes_invalid=0 send_seq=1094 receive_seq=1094 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=46 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.13 cputime=7.778 memavail=755540 print_time=236.964 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
No trigger on x after full movement
Stats 231.9: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000008 mcu_task_stddev=0.000009 bytes_write=18286 bytes_read=39956 bytes_retransmit=9 bytes_invalid=0 send_seq=1126 receive_seq=1126 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=24 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.13 cputime=7.863 memavail=755540 print_time=238.038 buffer_time=0.404 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 232.9: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000008 mcu_task_stddev=0.000009 bytes_write=18905 bytes_read=40145 bytes_retransmit=9 bytes_invalid=0 send_seq=1139 receive_seq=1139 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.13 cputime=7.904 memavail=755540 print_time=239.543 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 233.9: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000008 mcu_task_stddev=0.000009 bytes_write=19903 bytes_read=41186 bytes_retransmit=9 bytes_invalid=0 send_seq=1195 receive_seq=1195 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.13 cputime=8.072 memavail=755540 print_time=239.793 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 234.9: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000008 mcu_task_stddev=0.000009 bytes_write=20867 bytes_read=41886 bytes_retransmit=9 bytes_invalid=0 send_seq=1241 receive_seq=1241 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.13 cputime=8.171 memavail=755540 print_time=240.700 buffer_time=0.064 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 235.9: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000008 mcu_task_stddev=0.000009 bytes_write=21593 bytes_read=42477 bytes_retransmit=9 bytes_invalid=0 send_seq=1280 receive_seq=1280 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=3.20 cputime=8.267 memavail=755540 print_time=241.815 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 236.9: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=22183 bytes_read=43025 bytes_retransmit=9 bytes_invalid=0 send_seq=1317 receive_seq=1317 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.20 cputime=8.345 memavail=755540 print_time=242.815 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 237.9: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=23065 bytes_read=43738 bytes_retransmit=9 bytes_invalid=0 send_seq=1362 receive_seq=1362 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.20 cputime=8.448 memavail=755048 print_time=243.583 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 238.9: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=23155 bytes_read=43997 bytes_retransmit=9 bytes_invalid=0 send_seq=1369 receive_seq=1369 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.20 cputime=8.494 memavail=755048 print_time=243.583 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 239.9: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=23245 bytes_read=44241 bytes_retransmit=9 bytes_invalid=0 send_seq=1376 receive_seq=1376 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.20 cputime=8.538 memavail=755048 print_time=243.583 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 240.9: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=23280 bytes_read=44367 bytes_retransmit=9 bytes_invalid=0 send_seq=1378 receive_seq=1378 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.27 cputime=8.567 memavail=755048 print_time=246.117 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 241.9: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000006 bytes_write=23286 bytes_read=44502 bytes_retransmit=9 bytes_invalid=0 send_seq=1379 receive_seq=1379 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000283  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.27 cputime=8.591 memavail=755048 print_time=246.117 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 242.9: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000006 bytes_write=23292 bytes_read=44608 bytes_retransmit=9 bytes_invalid=0 send_seq=1380 receive_seq=1380 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000283  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.27 cputime=8.614 memavail=755048 print_time=246.117 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.4 pwm=0.000
Stats 243.9: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000006 bytes_write=23298 bytes_read=44729 bytes_retransmit=9 bytes_invalid=0 send_seq=1381 receive_seq=1381 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000283  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.27 cputime=8.637 memavail=755048 print_time=246.117 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 244.9: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000006 bytes_write=23304 bytes_read=44850 bytes_retransmit=9 bytes_invalid=0 send_seq=1382 receive_seq=1382 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000284  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.27 cputime=8.662 memavail=755048 print_time=246.117 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 245.9: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000006 bytes_write=23310 bytes_read=44956 bytes_retransmit=9 bytes_invalid=0 send_seq=1383 receive_seq=1383 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000284  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.32 cputime=8.685 memavail=755048 print_time=246.117 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 246.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=23316 bytes_read=45089 bytes_retransmit=9 bytes_invalid=0 send_seq=1384 receive_seq=1384 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000284  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.32 cputime=8.709 memavail=755048 print_time=246.117 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 247.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=23322 bytes_read=45210 bytes_retransmit=9 bytes_invalid=0 send_seq=1385 receive_seq=1385 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000284  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=3.32 cputime=8.732 memavail=755076 print_time=246.117 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 248.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=23328 bytes_read=45316 bytes_retransmit=9 bytes_invalid=0 send_seq=1386 receive_seq=1386 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000285  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.32 cputime=8.754 memavail=755080 print_time=246.117 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 249.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=23334 bytes_read=45437 bytes_retransmit=9 bytes_invalid=0 send_seq=1387 receive_seq=1387 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000285  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.32 cputime=8.779 memavail=755080 print_time=246.117 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 250.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=23340 bytes_read=45558 bytes_retransmit=9 bytes_invalid=0 send_seq=1388 receive_seq=1388 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000285  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=3.30 cputime=8.802 memavail=755140 print_time=246.117 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.5 pwm=0.000
Stats 251.9: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=23346 bytes_read=45676 bytes_retransmit=9 bytes_invalid=0 send_seq=1389 receive_seq=1389 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000285  heater_bed: target=0 temp=22.3 pwm=0.000 sysload=3.30 cputime=8.826 memavail=755320 print_time=246.117 bufStarting Klippy...
Args: ['/home/pi/klipper/klippy/klippy.py', '/home/pi/printer_data/config/printer.cfg', '-I', '/home/pi/printer_data/comms/klippy.serial', '-l', '/home/pi/printer_data/logs/klippy.log', '-a', '/home/pi/printer_data/comms/klippy.sock']
Git version: 'v0.11.0-22-gfe0fc296'
CPU: 4 core ?
Python: '3.9.2 (default, Feb 28 2021, 17:03:44) \n[GCC 10.2.1 20210110]'
Start printer at Thu Dec 22 16:12:53 2022 (1671754373.3 36.8)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00
restart_method = command

[printer]
kinematics = corexy
max_velocity = 200
max_accel = 2000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[stepper_x]
step_pin = gpio11
dir_pin = gpio10
enable_pin = !gpio12
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio4
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 0
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_y]
step_pin = gpio6
dir_pin = gpio5
enable_pin = !gpio7
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio3
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 2
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_z]
step_pin = gpio19
dir_pin = !gpio28
enable_pin = !gpio2
rotation_distance = 8
microsteps = 32
endstop_pin = ^gpio25
position_endstop = -0.10
position_max = 120
position_min = -1.5
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 1
interpolate = False
run_current = 0.37
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = gpio14
dir_pin = gpio13
enable_pin = !gpio15
rotation_distance = 13.1544
gear_ratio = 50:10
microsteps = 32
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = gpio23
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio27
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 170
max_extrude_only_distance = 150
max_extrude_cross_section = 0.9

[tmc2209 extruder]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 3
interpolate = False
run_current = 0.6
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = gpio21
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio26
smooth_time = 3.0
max_power = 0.5
min_temp = 0
max_temp = 200
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458

[heater_fan hotend_fan]
pin = gpio18
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = gpio17
max_power = 1.0
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[idle_timeout]
timeout = 36000

[safe_z_home]
home_xy_position = 120,120
speed = 50.0
z_hop = 5
=======================
Extruder max_extrude_ratio=0.374177
mcu 'mcu': Starting serial connect
mcu 'mcu': got {'count': 363, 'sum': 37492, 'sumsq': 37688, '#name': 'stats', '#sent_time': 39.241781755, '#receive_time': 39.273288474}
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Starting heater checks for heater_bed
Starting heater checks for extruder
Stats 39.8: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2157 bytes_read=5466 bytes_retransmit=9 bytes_invalid=0 send_seq=198 receive_seq=198 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=11999847  heater_bed: target=0 temp=0.0 pwm=0.000 sysload=1.24 cputime=2.455 memavail=762976 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
Stats 40.8: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2163 bytes_read=5542 bytes_retransmit=9 bytes_invalid=0 send_seq=199 receive_seq=199 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000032  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.22 cputime=2.460 memavail=761076 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
webhooks client 547631199376: New connection
webhooks client 547631199376: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
webhooks: registering remote method 'shutdown_machine' for connection id: 547631199376
webhooks: registering remote method 'reboot_machine' for connection id: 547631199376
webhooks: registering remote method 'pause_job_queue' for connection id: 547631199376
webhooks: registering remote method 'start_job_queue' for connection id: 547631199376
Stats 41.8: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2169 bytes_read=5648 bytes_retransmit=9 bytes_invalid=0 send_seq=200 receive_seq=200 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000082  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.22 cputime=2.487 memavail=761088 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 42.8: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2175 bytes_read=5769 bytes_retransmit=9 bytes_invalid=0 send_seq=201 receive_seq=201 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000154  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.22 cputime=2.499 memavail=761096 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 43.8: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2181 bytes_read=5890 bytes_retransmit=9 bytes_invalid=0 send_seq=202 receive_seq=202 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000182  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.22 cputime=2.508 memavail=761096 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 44.8: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000007 mcu_task_stddev=0.000013 bytes_write=2187 bytes_read=6010 bytes_retransmit=9 bytes_invalid=0 send_seq=203 receive_seq=203 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000225  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.22 cputime=2.522 memavail=760428 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 45.8: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000007 mcu_task_stddev=0.000013 bytes_write=2193 bytes_read=6131 bytes_retransmit=9 bytes_invalid=0 send_seq=204 receive_seq=204 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000284  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.36 cputime=2.537 memavail=760436 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 46.8: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000007 mcu_task_stddev=0.000013 bytes_write=2199 bytes_read=6252 bytes_retransmit=9 bytes_invalid=0 send_seq=205 receive_seq=205 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000290  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.36 cputime=2.551 memavail=760440 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 47.8: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000007 mcu_task_stddev=0.000013 bytes_write=2205 bytes_read=6358 bytes_retransmit=9 bytes_invalid=0 send_seq=206 receive_seq=206 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000289  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.36 cputime=2.565 memavail=760440 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 48.8: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000007 mcu_task_stddev=0.000013 bytes_write=2211 bytes_read=6479 bytes_retransmit=9 bytes_invalid=0 send_seq=207 receive_seq=207 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000286  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.36 cputime=2.580 memavail=760440 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 49.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2217 bytes_read=6612 bytes_retransmit=9 bytes_invalid=0 send_seq=208 receive_seq=208 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000286  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.36 cputime=2.595 memavail=760188 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 50.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2223 bytes_read=6718 bytes_retransmit=9 bytes_invalid=0 send_seq=209 receive_seq=209 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000277  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.41 cputime=2.604 memavail=760192 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 51.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2229 bytes_read=6839 bytes_retransmit=9 bytes_invalid=0 send_seq=210 receive_seq=210 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000273  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.41 cputime=2.612 memavail=760192 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 52.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2235 bytes_read=6960 bytes_retransmit=9 bytes_invalid=0 send_seq=211 receive_seq=211 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000272  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.41 cputime=2.621 memavail=760192 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 53.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2241 bytes_read=7066 bytes_retransmit=9 bytes_invalid=0 send_seq=212 receive_seq=212 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000268  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.41 cputime=2.629 memavail=760192 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 287.0: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=3663 bytes_read=34720 bytes_retransmit=9 bytes_invalid=0 send_seq=449 receive_seq=449 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000282  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.02 cputime=5.389 memavail=750548 print_time=293.121 buffer_time=0.410 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
webhooks client 547631199376: Disconnected
Restarting printer
Start printer at Thu Dec 22 16:51:18 2022 (1671756678.9 288.5)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00
restart_method = command

[printer]
kinematics = corexy
max_velocity = 200
max_accel = 2000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[stepper_x]
step_pin = gpio11
dir_pin = gpio10
enable_pin = !gpio12
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio4
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 0
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_y]
step_pin = gpio6
dir_pin = gpio5
enable_pin = !gpio7
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio3
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 2
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_z]
step_pin = gpio19
dir_pin = !gpio28
enable_pin = !gpio2
rotation_distance = 8
microsteps = 32
endstop_pin = ^gpio25
position_endstop = -0.10
position_max = 120
position_min = -1.5
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 1
interpolate = False
run_current = 0.37
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = gpio14
dir_pin = gpio13
enable_pin = !gpio15
rotation_distance = 13.1544
gear_ratio = 50:10
microsteps = 32
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = gpio23
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio27
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 170
max_extrude_only_distance = 150
max_extrude_cross_section = 0.9

[tmc2209 extruder]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 3
interpolate = False
run_current = 0.6
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = gpio21
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio26
smooth_time = 3.0
max_power = 0.5
min_temp = 0
max_temp = 200
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458

[heater_fan hotend_fan]
pin = gpio18
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = gpio17
max_power = 1.0
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[neopixel bedled]
pin = gpio24
color_order = RGBW

[idle_timeout]
timeout = 36000

[safe_z_home]
home_xy_position = 120,120
speed = 50.0
z_hop = 5
=======================
Extruder max_extrude_ratio=0.374177
mcu 'mcu': Starting serial connect
webhooks client 547615249744: New connection
webhooks client 547615249744: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
mcu 'mcu': got {'oid': 11, 'next_clock': 3552120000, 'value': 31467, '#name': 'analog_in_state', '#sent_time': 289.966750358, '#receive_time': 289.98464442}
mcu 'mcu': got {'oid': 18, 'next_clock': 3552960000, 'value': 31470, '#name': 'analog_in_state', '#sent_time': 290.019326399, '#receive_time': 290.054919785}
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Attempting automated MCU 'mcu' restart: CRC mismatch
Attempting MCU 'mcu' reset command
webhooks client 547615249744: Disconnected
Restarting printer
Start printer at Thu Dec 22 16:51:21 2022 (1671756681.7 291.3)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00
restart_method = command

[printer]
kinematics = corexy
max_velocity = 200
max_accel = 2000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[stepper_x]
step_pin = gpio11
dir_pin = gpio10
enable_pin = !gpio12
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio4
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 0
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_y]
step_pin = gpio6
dir_pin = gpio5
enable_pin = !gpio7
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio3
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 2
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_z]
step_pin = gpio19
dir_pin = !gpio28
enable_pin = !gpio2
rotation_distance = 8
microsteps = 32
endstop_pin = ^gpio25
position_endstop = -0.10
position_max = 120
position_min = -1.5
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 1
interpolate = False
run_current = 0.37
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = gpio14
dir_pin = gpio13
enable_pin = !gpio15
rotation_distance = 13.1544
gear_ratio = 50:10
microsteps = 32
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = gpio23
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio27
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 170
max_extrude_only_distance = 150
max_extrude_cross_section = 0.9

[tmc2209 extruder]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 3
interpolate = False
run_current = 0.6
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = gpio21
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio26
smooth_time = 3.0
max_power = 0.5
min_temp = 0
max_temp = 200
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458

[heater_fan hotend_fan]
pin = gpio18
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = gpio17
max_power = 1.0
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[neopixel bedled]
pin = gpio24
color_order = RGBW

[idle_timeout]
timeout = 36000

[safe_z_home]
home_xy_position = 120,120
speed = 50.0
z_hop = 5
=======================
Extruder max_extrude_ratio=0.374177
mcu 'mcu': Starting serial connect
webhooks client 547625515856: New connection
webhooks client 547625515856: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Starting heater checks for heater_bed
Starting heater checks for extruder
Stats 293.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2185 bytes_read=5473 bytes_retransmit=9 bytes_invalid=0 send_seq=201 receive_seq=201 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=11999652  heater_bed: target=0 temp=0.0 pwm=0.000 sysload=1.01 cputime=7.828 memavail=746352 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 547625515856
webhooks: registering remote method 'reboot_machine' for connection id: 547625515856
webhooks: registering remote method 'pause_job_queue' for connection id: 547625515856
webhooks: registering remote method 'start_job_queue' for connection id: 547625515856
Stats 294.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2191 bytes_read=5488 bytes_retransmit=9 bytes_invalid=0 send_seq=202 receive_seq=202 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000310  heater_bed: target=0 temp=0.0 pwm=0.000 sysload=1.01 cputime=7.866 memavail=746352 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
Stats 295.3: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2197 bytes_read=5615 bytes_retransmit=9 bytes_invalid=0 send_seq=203 receive_seq=203 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000411  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.09 cputime=7.887 memavail=746100 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 296.3: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2203 bytes_read=5728 bytes_retransmit=9 bytes_invalid=0 send_seq=204 receive_seq=204 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000298  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.09 cputime=7.905 memavail=746100 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 297.3: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2209 bytes_read=5827 bytes_retransmit=9 bytes_invalid=0 send_seq=205 receive_seq=205 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000262  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.09 cputime=7.918 memavail=746100 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 298.3: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2215 bytes_read=5940 bytes_retransmit=9 bytes_invalid=0 send_seq=206 receive_seq=206 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000254  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.09 cputime=7.932 memavail=745876 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 299.3: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2221 bytes_read=6053 bytes_retransmit=9 bytes_invalid=0 send_seq=207 receive_seq=207 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000256  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.09 cputime=7.947 memavail=745880 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 300.3: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2227 bytes_read=6152 bytes_retransmit=9 bytes_invalid=0 send_seq=208 receive_seq=208 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000280  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.57 cputime=7.963 memavail=745176 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 301.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2233 bytes_read=6277 bytes_retransmit=9 bytes_invalid=0 send_seq=209 receive_seq=209 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000298  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.57 cputime=7.988 memavail=745176 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 302.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2239 bytes_read=6390 bytes_retransmit=9 bytes_invalid=0 send_seq=210 receive_seq=210 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000302  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.57 cputime=8.011 memavail=745176 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 303.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2245 bytes_read=6489 bytes_retransmit=9 bytes_invalid=0 send_seq=211 receive_seq=211 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000305  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.57 cputime=8.034 memavail=745176 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 304.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2251 bytes_read=6602 bytes_retransmit=9 bytes_invalid=0 send_seq=212 receive_seq=212 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000308  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.57 cputime=8.058 memavail=745176 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 305.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2257 bytes_read=6715 bytes_retransmit=9 bytes_invalid=0 send_seq=213 receive_seq=213 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000308  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.52 cputime=8.082 memavail=745176 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 306.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2263 bytes_read=6826 bytes_retransmit=9 bytes_invalid=0 send_seq=214 receive_seq=214 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000308  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.52 cputime=8.105 memavail=745176 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 307.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2269 bytes_read=6943 bytes_retransmit=9 bytes_invalid=0 send_seq=215 receive_seq=215 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000306  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.52 cputime=8.129 memavail=745176 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 308.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2275 bytes_read=7064 bytes_retransmit=9 bytes_invalid=0 send_seq=216 receive_seq=216 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000306  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.52 cputime=8.153 memavail=745176 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 309.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2281 bytes_read=7170 bytes_retransmit=9 bytes_invalid=0 send_seq=217 receive_seq=217 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000306  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.52 cputime=8.176 memavail=745176 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 310.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2287 bytes_read=7291 bytes_retransmit=9 bytes_invalid=0 send_seq=218 receive_seq=218 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000311  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.48 cputime=8.200 memavail=744696 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 311.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2293 bytes_read=7424 bytes_retransmit=9 bytes_invalid=0 send_seq=219 receive_seq=219 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000307  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.48 cputime=8.224 memavail=744728 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 312.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2299 bytes_read=7530 bytes_retransmit=9 bytes_invalid=0 send_seq=220 receive_seq=220 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000305  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.48 cputime=8.247 memavail=744728 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 313.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2305 bytes_read=7651 bytes_retransmit=9 bytes_invalid=0 send_seq=221 receive_seq=221 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000303  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.48 cputime=8.270 memavail=744728 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 314.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2311 bytes_read=7772 bytes_retransmit=9 bytes_invalid=0 send_seq=222 receive_seq=222 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000302  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.48 cputime=8.295 memavail=744728 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 315.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2317 bytes_read=7878 bytes_retransmit=9 bytes_invalid=0 send_seq=223 receive_seq=223 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000302  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.44 cputime=8.318 memavail=744728 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 316.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2323 bytes_read=8011 bytes_retransmit=9 bytes_invalid=0 send_seq=224 receive_seq=224 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000302  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.44 cputime=8.339 memavail=744728 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 317.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2329 bytes_read=8132 bytes_retransmit=9 bytes_invalid=0 send_seq=225 receive_seq=225 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000301  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.44 cputime=8.363 memavail=744728 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 318.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2335 bytes_read=8238 bytes_retransmit=9 bytes_invalid=0 send_seq=226 receive_seq=226 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000301  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.44 cputime=8.387 memavail=744728 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 319.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2341 bytes_read=8374 bytes_retransmit=9 bytes_invalid=0 send_seq=227 receive_seq=227 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000301  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.44 cputime=8.412 memavail=744728 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 320.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2347 bytes_read=8480 bytes_retransmit=9 bytes_invalid=0 send_seq=228 receive_seq=228 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000301  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.32 cputime=8.435 memavail=743468 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 321.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2353 bytes_read=8598 bytes_retransmit=9 bytes_invalid=0 send_seq=229 receive_seq=229 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000302  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.32 cputime=8.458 memavail=743472 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 322.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2359 bytes_read=8734 bytes_retransmit=9 bytes_invalid=0 send_seq=230 receive_seq=230 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000301  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.32 cputime=8.483 memavail=743472 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 323.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2365 bytes_read=8840 bytes_retransmit=9 bytes_invalid=0 send_seq=231 receive_seq=231 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000299  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.32 cputime=8.506 memavail=743472 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 324.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2371 bytes_read=8946 bytes_retransmit=9 bytes_invalid=0 send_seq=232 receive_seq=232 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000298  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.32 cputime=8.529 memavail=743472 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 325.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2377 bytes_read=9082 bytes_retransmit=9 bytes_invalid=0 send_seq=233 receive_seq=233 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000296  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.22 cputime=8.553 memavail=743472 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 326.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2383 bytes_read=9200 bytes_retransmit=9 bytes_invalid=0 send_seq=234 receive_seq=234 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000296  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.22 cputime=8.576 memavail=743480 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 327.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2389 bytes_read=9306 bytes_retransmit=9 bytes_invalid=0 send_seq=235 receive_seq=235 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000296  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.22 cputime=8.600 memavail=743480 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 328.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2395 bytes_read=9442 bytes_retransmit=9 bytes_invalid=0 send_seq=236 receive_seq=236 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000296  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.22 cputime=8.625 memavail=743480 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 329.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2401 bytes_read=9548 bytes_retransmit=9 bytes_invalid=0 send_seq=237 receive_seq=237 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000296  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.22 cputime=8.647 memavail=743480 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 330.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2407 bytes_read=9654 bytes_retransmit=9 bytes_invalid=0 send_seq=238 receive_seq=238 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000295  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.20 cputime=8.670 memavail=743004 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 331.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2413 bytes_read=9802 bytes_retransmit=9 bytes_invalid=0 send_seq=239 receive_seq=239 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000296  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.20 cputime=8.695 memavail=743004 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 332.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2419 bytes_read=9908 bytes_retransmit=9 bytes_invalid=0 send_seq=240 receive_seq=240 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000295  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.20 cputime=8.718 memavail=743004 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 333.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2431 bytes_read=10030 bytes_retransmit=9 bytes_invalid=0 send_seq=242 receive_seq=242 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000295  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.20 cputime=8.743 memavail=743004 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 334.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2437 bytes_read=10166 bytes_retransmit=9 bytes_invalid=0 send_seq=243 receive_seq=243 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000295  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.20 cputime=8.767 memavail=743004 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 335.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2443 bytes_read=10272 bytes_retransmit=9 bytes_invalid=0 send_seq=244 receive_seq=244 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000294  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.18 cputime=8.792 memavail=743000 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 336.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2449 bytes_read=10390 bytes_retransmit=9 bytes_invalid=0 send_seq=245 receive_seq=245 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000294  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.18 cputime=8.815 memavail=743000 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 337.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2455 bytes_read=10526 bytes_retransmit=9 bytes_invalid=0 send_seq=246 receive_seq=246 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000293  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.18 cputime=8.841 memavail=743000 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 338.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2461 bytes_read=10632 bytes_retransmit=9 bytes_invalid=0 send_seq=247 receive_seq=247 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000293  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.18 cputime=8.865 memavail=743000 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 339.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2467 bytes_read=10738 bytes_retransmit=9 bytes_invalid=0 send_seq=248 receive_seq=248 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000294  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.18 cputime=8.888 memavail=743000 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 340.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2473 bytes_read=10874 bytes_retransmit=9 bytes_invalid=0 send_seq=249 receive_seq=249 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000293  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.25 cputime=8.911 memavail=742752 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 341.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2479 bytes_read=10992 bytes_retransmit=9 bytes_invalid=0 send_seq=250 receive_seq=250 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000291  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.25 cputime=8.925 memavail=742756 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 342.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2485 bytes_read=11098 bytes_retransmit=9 bytes_invalid=0 send_seq=251 receive_seq=251 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000291  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.25 cputime=8.939 memavail=742756 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 343.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2491 bytes_read=11234 bytes_retransmit=9 bytes_invalid=0 send_seq=252 receive_seq=252 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000290  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.25 cputime=8.954 memavail=742756 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 344.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2497 bytes_read=11340 bytes_retransmit=9 bytes_invalid=0 send_seq=253 receive_seq=253 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000289  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.25 cputime=8.968 memavail=742756 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 345.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2503 bytes_read=11446 bytes_retransmit=9 bytes_invalid=0 send_seq=254 receive_seq=254 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000289  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.23 cputime=8.984 memavail=742756 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 346.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2509 bytes_read=11594 bytes_retransmit=9 bytes_invalid=0 send_seq=255 receive_seq=255 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000289  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.23 cputime=9.009 memavail=742756 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 347.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2515 bytes_read=11700 bytes_retransmit=9 bytes_invalid=0 send_seq=256 receive_seq=256 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000288  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.23 cputime=9.033 memavail=742756 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 348.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2521 bytes_read=11806 bytes_retransmit=9 bytes_invalid=0 send_seq=257 receive_seq=257 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000289  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.23 cputime=9.056 memavail=742756 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 349.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2527 bytes_read=11942 bytes_retransmit=9 bytes_invalid=0 send_seq=258 receive_seq=258 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000289  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.23 cputime=9.081 memavail=742756 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Unknown command:"RESTAR"
Stats 457.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=3187 bytes_read=24754 bytes_retransmit=9 bytes_invalid=0 send_seq=368 receive_seq=368 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000288  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.87 cputime=11.294 memavail=742888 print_time=167.875 buffer_time=0.677 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
webhooks client 547625515856: Disconnected
Restarting printer
Start printer at Thu Dec 22 16:54:09 2022 (1671756849.6 459.2)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00
restart_method = command

[printer]
kinematics = corexy
max_velocity = 200
max_accel = 2000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[stepper_x]
step_pin = gpio11
dir_pin = gpio10
enable_pin = !gpio12
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio4
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 0
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_y]
step_pin = gpio6
dir_pin = gpio5
enable_pin = !gpio7
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio3
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 2
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_z]
step_pin = gpio19
dir_pin = !gpio28
enable_pin = !gpio2
rotation_distance = 8
microsteps = 32
endstop_pin = ^gpio25
position_endstop = -0.10
position_max = 120
position_min = -1.5
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 1
interpolate = False
run_current = 0.37
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = gpio14
dir_pin = gpio13
enable_pin = !gpio15
rotation_distance = 13.1544
gear_ratio = 50:10
microsteps = 32
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = gpio23
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio27
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 170
max_extrude_only_distance = 150
max_extrude_cross_section = 0.9

[tmc2209 extruder]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 3
interpolate = False
run_current = 0.6
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = gpio21
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio26
smooth_time = 3.0
max_power = 0.5
min_temp = 0
max_temp = 200
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458

[heater_fan hotend_fan]
pin = gpio18
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = gpio17
max_power = 1.0
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[neopixel bedled]
pin = gpio24
chain_count = 10
color_order = RGBW
initial_red = 0.9
initial_green = 0.9
initial_blue = 0.9

[idle_timeout]
timeout = 36000

[safe_z_home]
home_xy_position = 120,120
speed = 50.0
z_hop = 5
=======================
Extruder max_extrude_ratio=0.374177
mcu 'mcu': Starting serial connect
webhooks client 547625377360: New connection
webhooks client 547625377360: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
mcu 'mcu': got {'oid': 12, 'next_clock': 2047440000, 'value': 31469, '#name': 'analog_in_state', '#sent_time': 460.534612741, '#receive_time': 460.56139222}
mcu 'mcu': got {'oid': 19, 'next_clock': 2048280000, 'value': 31468, '#name': 'analog_in_state', '#sent_time': 460.586071126, '#receive_time': 460.631648991}
mcu 'mcu': got {'oid': 12, 'next_clock': 2051040000, 'value': 31467, '#name': 'analog_in_state', '#sent_time': 460.846821751, '#receive_time': 460.861134355}
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Attempting automated MCU 'mcu' restart: CRC mismatch
Attempting MCU 'mcu' reset command
webhooks client 547625377360: Disconnected
Restarting printer
Start printer at Thu Dec 22 16:54:12 2022 (1671756852.3 462.0)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00
restart_method = command

[printer]
kinematics = corexy
max_velocity = 200
max_accel = 2000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[stepper_x]
step_pin = gpio11
dir_pin = gpio10
enable_pin = !gpio12
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio4
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 0
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_y]
step_pin = gpio6
dir_pin = gpio5
enable_pin = !gpio7
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio3
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 2
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_z]
step_pin = gpio19
dir_pin = !gpio28
enable_pin = !gpio2
rotation_distance = 8
microsteps = 32
endstop_pin = ^gpio25
position_endstop = -0.10
position_max = 120
position_min = -1.5
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 1
interpolate = False
run_current = 0.37
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = gpio14
dir_pin = gpio13
enable_pin = !gpio15
rotation_distance = 13.1544
gear_ratio = 50:10
microsteps = 32
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = gpio23
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio27
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 170
max_extrude_only_distance = 150
max_extrude_cross_section = 0.9

[tmc2209 extruder]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 3
interpolate = False
run_current = 0.6
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = gpio21
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio26
smooth_time = 3.0
max_power = 0.5
min_temp = 0
max_temp = 200
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458

[heater_fan hotend_fan]
pin = gpio18
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = gpio17
max_power = 1.0
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[neopixel bedled]
pin = gpio24
chain_count = 10
color_order = RGBW
initial_red = 0.9
initial_green = 0.9
initial_blue = 0.9

[idle_timeout]
timeout = 36000

[safe_z_home]
home_xy_position = 120,120
speed = 50.0
z_hop = 5
=======================
Extruder max_extrude_ratio=0.374177
mcu 'mcu': Starting serial connect
webhooks client 547631633072: New connection
webhooks client 547631633072: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Starting heater checks for heater_bed
Starting heater checks for extruder
Stats 464.1: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2249 bytes_read=5493 bytes_retransmit=9 bytes_invalid=0 send_seq=205 receive_seq=205 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12009810  heater_bed: target=0 temp=0.0 pwm=0.000 sysload=0.88 cputime=13.769 memavail=742188 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 547631633072
webhooks: registering remote method 'reboot_machine' for connection id: 547631633072
webhooks: registering remote method 'pause_job_queue' for connection id: 547631633072
webhooks: registering remote method 'start_job_queue' for connection id: 547631633072
Stats 465.1: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2255 bytes_read=5522 bytes_retransmit=9 bytes_invalid=0 send_seq=206 receive_seq=206 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12002091  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.88 cputime=13.796 memavail=742768 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
Stats 466.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000009 mcu_task_stddev=0.000019 bytes_write=2261 bytes_read=5649 bytes_retransmit=9 bytes_invalid=0 send_seq=207 receive_seq=207 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000613  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.05 cputime=13.817 memavail=742768 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 467.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000009 mcu_task_stddev=0.000019 bytes_write=2267 bytes_read=5748 bytes_retransmit=9 bytes_invalid=0 send_seq=208 receive_seq=208 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000297  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.05 cputime=13.831 memavail=742768 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 468.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000009 mcu_task_stddev=0.000019 bytes_write=2273 bytes_read=5861 bytes_retransmit=9 bytes_invalid=0 send_seq=209 receive_seq=209 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000210  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.05 cputime=13.845 memavail=742768 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 469.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000009 mcu_task_stddev=0.000019 bytes_write=2279 bytes_read=5974 bytes_retransmit=9 bytes_invalid=0 send_seq=210 receive_seq=210 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000188  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.05 cputime=13.861 memavail=742824 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 470.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000009 mcu_task_stddev=0.000019 bytes_write=2285 bytes_read=6073 bytes_retransmit=9 bytes_invalid=0 send_seq=211 receive_seq=211 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000206  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.05 cputime=13.881 memavail=742824 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 471.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2291 bytes_read=6198 bytes_retransmit=9 bytes_invalid=0 send_seq=212 receive_seq=212 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000230  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.05 cputime=13.906 memavail=742836 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 472.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2297 bytes_read=6311 bytes_retransmit=9 bytes_invalid=0 send_seq=213 receive_seq=213 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000241  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.05 cputime=13.930 memavail=742836 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 473.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2303 bytes_read=6410 bytes_retransmit=9 bytes_invalid=0 send_seq=214 receive_seq=214 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000252  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.05 cputime=13.953 memavail=742836 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 474.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2309 bytes_read=6523 bytes_retransmit=9 bytes_invalid=0 send_seq=215 receive_seq=215 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000257  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.05 cputime=13.973 memavail=742588 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 475.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2315 bytes_read=6636 bytes_retransmit=9 bytes_invalid=0 send_seq=216 receive_seq=216 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000252  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.05 cputime=13.987 memavail=742348 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 476.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2321 bytes_read=6735 bytes_retransmit=9 bytes_invalid=0 send_seq=217 receive_seq=217 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000247  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.04 cputime=14.001 memavail=742348 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 477.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2327 bytes_read=6860 bytes_retransmit=9 bytes_invalid=0 send_seq=218 receive_seq=218 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000244  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.04 cputime=14.016 memavail=742348 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 478.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2333 bytes_read=6978 bytes_retransmit=9 bytes_invalid=0 send_seq=219 receive_seq=219 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000244  heater_bed: target=0 temp=22.2 pwm=0.000 sysload=1.04 cputime=14.030 memavail=742348 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 479.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2339 bytes_read=7084 bytes_retransmit=9 bytes_invalid=0 send_seq=220 receive_seq=220 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000244  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.04 cputime=14.048 memavail=742348 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 480.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2345 bytes_read=7205 bytes_retransmit=9 bytes_invalid=0 send_seq=221 receive_seq=221 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000251  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.04 cputime=14.071 memavail=742348 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 481.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2351 bytes_read=7326 bytes_retransmit=9 bytes_invalid=0 send_seq=222 receive_seq=222 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000250  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.04 cputime=14.087 memavail=742140 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 482.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2357 bytes_read=7444 bytes_retransmit=9 bytes_invalid=0 send_seq=223 receive_seq=223 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000251  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.04 cputime=14.100 memavail=742140 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 483.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2363 bytes_read=7565 bytes_retransmit=9 bytes_invalid=0 send_seq=224 receive_seq=224 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000252  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.04 cputime=14.115 memavail=742140 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 484.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2369 bytes_read=7686 bytes_retransmit=9 bytes_invalid=0 send_seq=225 receive_seq=225 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000253  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.04 cputime=14.129 memavail=742140 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 485.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2375 bytes_read=7792 bytes_retransmit=9 bytes_invalid=0 send_seq=226 receive_seq=226 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000254  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.04 cputime=14.143 memavail=742140 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 486.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2381 bytes_read=7913 bytes_retransmit=9 bytes_invalid=0 send_seq=227 receive_seq=227 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000257  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.04 cputime=14.166 memavail=742140 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 487.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2387 bytes_read=8046 bytes_retransmit=9 bytes_invalid=0 send_seq=228 receive_seq=228 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000260  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.04 cputime=14.191 memavail=742408 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 488.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2393 bytes_read=8152 bytes_retransmit=9 bytes_invalid=0 send_seq=229 receive_seq=229 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000263  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.04 cputime=14.213 memavail=742408 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 489.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2399 bytes_read=8273 bytes_retransmit=9 bytes_invalid=0 send_seq=230 receive_seq=230 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000266  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.04 cputime=14.237 memavail=742408 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.2 pwm=0.000
Stats 490.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2405 bytes_read=8394 bytes_retransmit=9 bytes_invalid=0 send_seq=231 receive_seq=231 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000267  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.04 cputime=14.260 memavail=742408 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 491.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2411 bytes_read=8500 bytes_retransmit=9 bytes_invalid=0 send_seq=232 receive_seq=232 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000268  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.95 cputime=14.280 memavail=742424 print_time=30.245 buffer_time=0.084 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
webhooks client 547631633072: Disconnected
Restarting printer
Start printer at Thu Dec 22 16:54:42 2022 (1671756882.6 492.3)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00
restart_method = command

[printer]
kinematics = corexy
max_velocity = 200
max_accel = 2000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[stepper_x]
step_pin = gpio11
dir_pin = gpio10
enable_pin = !gpio12
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio4
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 0
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_y]
step_pin = gpio6
dir_pin = gpio5
enable_pin = !gpio7
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio3
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 2
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_z]
step_pin = gpio19
dir_pin = !gpio28
enable_pin = !gpio2
rotation_distance = 8
microsteps = 32
endstop_pin = ^gpio25
position_endstop = -0.10
position_max = 120
position_min = -1.5
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 1
interpolate = False
run_current = 0.37
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = gpio14
dir_pin = gpio13
enable_pin = !gpio15
rotation_distance = 13.1544
gear_ratio = 50:10
microsteps = 32
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = gpio23
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio27
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 170
max_extrude_only_distance = 150
max_extrude_cross_section = 0.9

[tmc2209 extruder]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 3
interpolate = False
run_current = 0.6
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = gpio21
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio26
smooth_time = 3.0
max_power = 0.5
min_temp = 0
max_temp = 200
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458

[heater_fan hotend_fan]
pin = gpio18
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = gpio17
max_power = 1.0
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[neopixel bedled]
pin = gpio24
chain_count = 1
color_order = RGBW

[idle_timeout]
timeout = 36000

[safe_z_home]
home_xy_position = 120,120
speed = 50.0
z_hop = 5
=======================
Extruder max_extrude_ratio=0.374177
mcu 'mcu': Starting serial connect
webhooks client 547615187824: New connection
webhooks client 547615187824: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
mcu 'mcu': got {'oid': 12, 'next_clock': 395040000, 'value': 31468, '#name': 'analog_in_state', '#sent_time': 493.507562311, '#receive_time': 493.536169134}
mcu 'mcu': got {'oid': 19, 'next_clock': 395880000, 'value': 31467, '#name': 'analog_in_state', '#sent_time': 493.559515749, '#receive_time': 493.606418457}
mcu 'mcu': got {'oid': 12, 'next_clock': 398640000, 'value': 31468, '#name': 'analog_in_state', '#sent_time': 493.819171634, '#receive_time': 493.835931582}
mcu 'mcu': got {'oid': 19, 'next_clock': 399480000, 'value': 31468, '#name': 'analog_in_state', '#sent_time': 493.87059377, '#receive_time': 493.90614778}
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Attempting automated MCU 'mcu' restart: CRC mismatch
Attempting MCU 'mcu' reset command
webhooks client 547615187824: Disconnected
Restarting printer
Start printer at Thu Dec 22 16:54:45 2022 (1671756885.4 495.0)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00
restart_method = command

[printer]
kinematics = corexy
max_velocity = 200
max_accel = 2000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[stepper_x]
step_pin = gpio11
dir_pin = gpio10
enable_pin = !gpio12
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio4
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 0
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_y]
step_pin = gpio6
dir_pin = gpio5
enable_pin = !gpio7
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio3
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 2
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_z]
step_pin = gpio19
dir_pin = !gpio28
enable_pin = !gpio2
rotation_distance = 8
microsteps = 32
endstop_pin = ^gpio25
position_endstop = -0.10
position_max = 120
position_min = -1.5
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 1
interpolate = False
run_current = 0.37
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = gpio14
dir_pin = gpio13
enable_pin = !gpio15
rotation_distance = 13.1544
gear_ratio = 50:10
microsteps = 32
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = gpio23
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio27
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 170
max_extrude_only_distance = 150
max_extrude_cross_section = 0.9

[tmc2209 extruder]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 3
interpolate = False
run_current = 0.6
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = gpio21
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio26
smooth_time = 3.0
max_power = 0.5
min_temp = 0
max_temp = 200
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458

[heater_fan hotend_fan]
pin = gpio18
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = gpio17
max_power = 1.0
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[neopixel bedled]
pin = gpio24
chain_count = 1
color_order = RGBW

[idle_timeout]
timeout = 36000

[safe_z_home]
home_xy_position = 120,120
speed = 50.0
z_hop = 5
=======================
Extruder max_extrude_ratio=0.374177
mcu 'mcu': Starting serial connect
webhooks client 547631635472: New connection
webhooks client 547631635472: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Starting heater checks for heater_bed
Starting heater checks for extruder
Stats 497.1: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2210 bytes_read=5498 bytes_retransmit=9 bytes_invalid=0 send_seq=206 receive_seq=206 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=11999290  heater_bed: target=0 temp=0.0 pwm=0.000 sysload=0.96 cputime=16.690 memavail=742136 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 547631635472
webhooks: registering remote method 'reboot_machine' for connection id: 547631635472
webhooks: registering remote method 'pause_job_queue' for connection id: 547631635472
webhooks: registering remote method 'start_job_queue' for connection id: 547631635472
Stats 498.1: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2216 bytes_read=5527 bytes_retransmit=9 bytes_invalid=0 send_seq=207 receive_seq=207 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=11999924  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.96 cputime=16.715 memavail=744936 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
Stats 499.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2222 bytes_read=5654 bytes_retransmit=9 bytes_invalid=0 send_seq=208 receive_seq=208 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000165  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.96 cputime=16.734 memavail=744712 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 500.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2228 bytes_read=5753 bytes_retransmit=9 bytes_invalid=0 send_seq=209 receive_seq=209 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000190  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.96 cputime=16.749 memavail=744712 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 501.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2234 bytes_read=5866 bytes_retransmit=9 bytes_invalid=0 send_seq=210 receive_seq=210 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000236  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.88 cputime=16.770 memavail=744744 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 502.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2240 bytes_read=5979 bytes_retransmit=9 bytes_invalid=0 send_seq=211 receive_seq=211 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000268  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.88 cputime=16.794 memavail=744744 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 503.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=2246 bytes_read=6078 bytes_retransmit=9 bytes_invalid=0 send_seq=212 receive_seq=212 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000269  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.88 cputime=16.816 memavail=744752 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 504.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2252 bytes_read=6203 bytes_retransmit=9 bytes_invalid=0 send_seq=213 receive_seq=213 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000300  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.88 cputime=16.841 memavail=744752 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 505.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2258 bytes_read=6316 bytes_retransmit=9 bytes_invalid=0 send_seq=214 receive_seq=214 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000309  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.88 cputime=16.865 memavail=744752 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 506.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2264 bytes_read=6415 bytes_retransmit=9 bytes_invalid=0 send_seq=215 receive_seq=215 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000312  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.89 cputime=16.887 memavail=744752 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 507.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2270 bytes_read=6528 bytes_retransmit=9 bytes_invalid=0 send_seq=216 receive_seq=216 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000313  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.89 cputime=16.912 memavail=744752 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 508.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2276 bytes_read=6641 bytes_retransmit=9 bytes_invalid=0 send_seq=217 receive_seq=217 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000313  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.89 cputime=16.936 memavail=744752 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 509.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2282 bytes_read=6740 bytes_retransmit=9 bytes_invalid=0 send_seq=218 receive_seq=218 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000313  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.89 cputime=16.958 memavail=744768 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 510.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000004 bytes_write=2288 bytes_read=6865 bytes_retransmit=9 bytes_invalid=0 send_seq=219 receive_seq=219 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000319  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.89 cputime=16.991 memavail=744768 print_time=16.277 buffer_time=0.139 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
webhooks client 547631635472: Disconnected
Restarting printer
Start printer at Thu Dec 22 16:55:01 2022 (1671756901.7 511.3)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00
restart_method = command

[printer]
kinematics = corexy
max_velocity = 200
max_accel = 2000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[stepper_x]
step_pin = gpio11
dir_pin = gpio10
enable_pin = !gpio12
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio4
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 0
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_y]
step_pin = gpio6
dir_pin = gpio5
enable_pin = !gpio7
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio3
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 2
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_z]
step_pin = gpio19
dir_pin = !gpio28
enable_pin = !gpio2
rotation_distance = 8
microsteps = 32
endstop_pin = ^gpio25
position_endstop = -0.10
position_max = 120
position_min = -1.5
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 1
interpolate = False
run_current = 0.37
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = gpio14
dir_pin = gpio13
enable_pin = !gpio15
rotation_distance = 13.1544
gear_ratio = 50:10
microsteps = 32
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = gpio23
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio27
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 170
max_extrude_only_distance = 150
max_extrude_cross_section = 0.9

[tmc2209 extruder]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 3
interpolate = False
run_current = 0.6
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = gpio21
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio26
smooth_time = 3.0
max_power = 0.5
min_temp = 0
max_temp = 200
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458

[heater_fan hotend_fan]
pin = gpio18
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = gpio17
max_power = 1.0
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[neopixel bedled]
pin = gpio24
chain_count = 1
color_order = RGBW
initial_red = 0.9

[idle_timeout]
timeout = 36000

[safe_z_home]
home_xy_position = 120,120
speed = 50.0
z_hop = 5
=======================
Extruder max_extrude_ratio=0.374177
mcu 'mcu': Starting serial connect
webhooks client 547624645632: New connection
webhooks client 547624645632: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
mcu 'mcu': got {'oid': 12, 'next_clock': 229440000, 'value': 31472, '#name': 'analog_in_state', '#sent_time': 512.733682304, '#receive_time': 512.759916106}
mcu 'mcu': got {'oid': 19, 'next_clock': 230280000, 'value': 31470, '#name': 'analog_in_state', '#sent_time': 512.786544127, '#receive_time': 512.83017371}
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Configured MCU 'mcu' (1024 moves)
Starting heater checks for heater_bed
Starting heater checks for extruder
Stats 513.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2048 bytes_read=5460 bytes_retransmit=9 bytes_invalid=0 send_seq=185 receive_seq=185 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=11999561  heater_bed: target=0 temp=0.0 pwm=0.000 sysload=0.90 cputime=18.246 memavail=744044 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 547624645632
webhooks: registering remote method 'reboot_machine' for connection id: 547624645632
webhooks: registering remote method 'pause_job_queue' for connection id: 547624645632
webhooks: registering remote method 'start_job_queue' for connection id: 547624645632
Stats 514.3: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=2054 bytes_read=5520 bytes_retransmit=9 bytes_invalid=0 send_seq=186 receive_seq=186 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000054  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.90 cputime=18.273 memavail=743568 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 515.3: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=2060 bytes_read=5656 bytes_retransmit=9 bytes_invalid=0 send_seq=187 receive_seq=187 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000125  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.90 cputime=18.290 memavail=743568 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 516.3: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=2066 bytes_read=5762 bytes_retransmit=9 bytes_invalid=0 send_seq=188 receive_seq=188 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000249  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.91 cputime=18.318 memavail=743568 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 517.3: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=2072 bytes_read=5868 bytes_retransmit=9 bytes_invalid=0 send_seq=189 receive_seq=189 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000305  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.91 cputime=18.341 memavail=743568 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 518.3: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=2078 bytes_read=6004 bytes_retransmit=9 bytes_invalid=0 send_seq=190 receive_seq=190 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000319  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.91 cputime=18.365 memavail=743568 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 519.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2084 bytes_read=6122 bytes_retransmit=9 bytes_invalid=0 send_seq=191 receive_seq=191 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000324  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.91 cputime=18.389 memavail=743568 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 520.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2090 bytes_read=6228 bytes_retransmit=9 bytes_invalid=0 send_seq=192 receive_seq=192 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000331  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=0.91 cputime=18.410 memavail=743268 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 521.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2096 bytes_read=6364 bytes_retransmit=9 bytes_invalid=0 send_seq=193 receive_seq=193 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000311  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.24 cputime=18.424 memavail=743340 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 522.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2102 bytes_read=6470 bytes_retransmit=9 bytes_invalid=0 send_seq=194 receive_seq=194 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000299  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.24 cputime=18.438 memavail=743340 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 523.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2108 bytes_read=6576 bytes_retransmit=9 bytes_invalid=0 send_seq=195 receive_seq=195 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000290  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.24 cputime=18.451 memavail=743340 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 524.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2114 bytes_read=6724 bytes_retransmit=9 bytes_invalid=0 send_seq=196 receive_seq=196 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000287  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.24 cputime=18.466 memavail=743340 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 525.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2120 bytes_read=6830 bytes_retransmit=9 bytes_invalid=0 send_seq=197 receive_seq=197 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000281  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.24 cputime=18.481 memavail=743340 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 526.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2126 bytes_read=6936 bytes_retransmit=9 bytes_invalid=0 send_seq=198 receive_seq=198 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000288  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.22 cputime=18.504 memavail=743352 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 527.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2132 bytes_read=7072 bytes_retransmit=9 bytes_invalid=0 send_seq=199 receive_seq=199 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000291  heater_bed: target=0 temp=22.0 pwm=0.000 sysload=1.22 cputime=18.528 memavail=743352 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 528.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2138 bytes_read=7178 bytes_retransmit=9 bytes_invalid=0 send_seq=200 receive_seq=200 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000295  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.22 cputime=18.551 memavail=743352 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 529.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2144 bytes_read=7296 bytes_retransmit=9 bytes_invalid=0 send_seq=201 receive_seq=201 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000295  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.22 cputime=18.575 memavail=743348 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 530.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2150 bytes_read=7432 bytes_retransmit=9 bytes_invalid=0 send_seq=202 receive_seq=202 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000296  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.22 cputime=18.598 memavail=742912 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 531.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2156 bytes_read=7538 bytes_retransmit=9 bytes_invalid=0 send_seq=203 receive_seq=203 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000294  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.20 cputime=18.612 memavail=742920 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 532.3: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2162 bytes_read=7644 bytes_retransmit=9 bytes_invalid=0 send_seq=204 receive_seq=204 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000292  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.20 cputime=18.629 memavail=742920 print_time=38.692 buffer_time=0.274 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
webhooks client 547624645632: Disconnected
Restarting printer
Start printer at Thu Dec 22 16:55:24 2022 (1671756924.1 533.7)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00
restart_method = command

[printer]
kinematics = corexy
max_velocity = 200
max_accel = 2000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[stepper_x]
step_pin = gpio11
dir_pin = gpio10
enable_pin = !gpio12
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio4
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 0
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_y]
step_pin = gpio6
dir_pin = gpio5
enable_pin = !gpio7
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio3
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 2
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_z]
step_pin = gpio19
dir_pin = !gpio28
enable_pin = !gpio2
rotation_distance = 8
microsteps = 32
endstop_pin = ^gpio25
position_endstop = -0.10
position_max = 120
position_min = -1.5
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 1
interpolate = False
run_current = 0.37
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = gpio14
dir_pin = gpio13
enable_pin = !gpio15
rotation_distance = 13.1544
gear_ratio = 50:10
microsteps = 32
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = gpio23
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio27
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 170
max_extrude_only_distance = 150
max_extrude_cross_section = 0.9

[tmc2209 extruder]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 3
interpolate = False
run_current = 0.6
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = gpio21
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio26
smooth_time = 3.0
max_power = 0.5
min_temp = 0
max_temp = 200
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458

[heater_fan hotend_fan]
pin = gpio18
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = gpio17
max_power = 1.0
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[neopixel bedled]
pin = gpio24
chain_count = 1
color_order = RGBW
initial_green = 0.9

[idle_timeout]
timeout = 36000

[safe_z_home]
home_xy_position = 120,120
speed = 50.0
z_hop = 5
=======================
Extruder max_extrude_ratio=0.374177
mcu 'mcu': Starting serial connect
webhooks client 547615238368: New connection
webhooks client 547615238368: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
mcu 'mcu': got {'oid': 12, 'next_clock': 497040000, 'value': 31470, '#name': 'analog_in_state', '#sent_time': 535.04472542, '#receive_time': 535.058914431}
mcu 'mcu': got {'oid': 19, 'next_clock': 497880000, 'value': 31471, '#name': 'analog_in_state', '#sent_time': 535.097359379, '#receive_time': 535.129151514}
mcu 'mcu': got {'oid': 12, 'next_clock': 500640000, 'value': 31469, '#name': 'analog_in_state', '#sent_time': 535.305658806, '#receive_time': 535.359822139}
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Configured MCU 'mcu' (1024 moves)
Starting heater checks for heater_bed
Starting heater checks for extruder
Stats 535.8: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2031 bytes_read=5437 bytes_retransmit=9 bytes_invalid=0 send_seq=183 receive_seq=183 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12001529  heater_bed: target=0 temp=0.0 pwm=0.000 sysload=1.26 cputime=19.928 memavail=743692 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 547615238368
webhooks: registering remote method 'reboot_machine' for connection id: 547615238368
webhooks: registering remote method 'pause_job_queue' for connection id: 547615238368
webhooks: registering remote method 'start_job_queue' for connection id: 547615238368
Stats 536.8: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2037 bytes_read=5543 bytes_retransmit=9 bytes_invalid=0 send_seq=184 receive_seq=184 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000603  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.26 cputime=19.968 memavail=743456 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 537.8: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2043 bytes_read=5649 bytes_retransmit=9 bytes_invalid=0 send_seq=185 receive_seq=185 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000304  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.26 cputime=19.988 memavail=743464 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 538.8: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=2049 bytes_read=5770 bytes_retransmit=9 bytes_invalid=0 send_seq=186 receive_seq=186 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000259  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.26 cputime=20.002 memavail=743464 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 539.8: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=2055 bytes_read=5905 bytes_retransmit=9 bytes_invalid=0 send_seq=187 receive_seq=187 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000254  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.26 cputime=20.017 memavail=743464 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 540.8: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=2061 bytes_read=6011 bytes_retransmit=9 bytes_invalid=0 send_seq=188 receive_seq=188 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000262  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.24 cputime=20.033 memavail=743660 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 541.8: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=2067 bytes_read=6132 bytes_retransmit=9 bytes_invalid=0 send_seq=189 receive_seq=189 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000279  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.24 cputime=20.058 memavail=743736 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 542.8: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=2073 bytes_read=6253 bytes_retransmit=9 bytes_invalid=0 send_seq=190 receive_seq=190 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000298  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.24 cputime=20.082 memavail=743736 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 543.8: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000007 mcu_task_stddev=0.000007 bytes_write=2079 bytes_read=6359 bytes_retransmit=9 bytes_invalid=0 send_seq=191 receive_seq=191 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000298  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.24 cputime=20.106 memavail=743736 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 544.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2085 bytes_read=6492 bytes_retransmit=9 bytes_invalid=0 send_seq=192 receive_seq=192 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000298  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.24 cputime=20.130 memavail=743736 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 545.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2091 bytes_read=6613 bytes_retransmit=9 bytes_invalid=0 send_seq=193 receive_seq=193 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000316  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.22 cputime=20.154 memavail=743736 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 546.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2097 bytes_read=6719 bytes_retransmit=9 bytes_invalid=0 send_seq=194 receive_seq=194 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000319  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.22 cputime=20.177 memavail=743732 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 547.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2103 bytes_read=6840 bytes_retransmit=9 bytes_invalid=0 send_seq=195 receive_seq=195 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000320  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.22 cputime=20.202 memavail=743732 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 548.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2109 bytes_read=6961 bytes_retransmit=9 bytes_invalid=0 send_seq=196 receive_seq=196 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000326  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.22 cputime=20.226 memavail=743732 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 549.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2115 bytes_read=7079 bytes_retransmit=9 bytes_invalid=0 send_seq=197 receive_seq=197 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000323  heater_bed: target=0 temp=22.0 pwm=0.000 sysload=1.22 cputime=20.250 memavail=743740 print_time=0.001 buffer_time=0.000 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
Stats 550.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000005 mcu_task_stddev=0.000005 bytes_write=2121 bytes_read=7200 bytes_retransmit=9 bytes_invalid=0 send_seq=198 receive_seq=198 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=12000320  heater_bed: target=0 temp=22.1 pwm=0.000 sysload=1.12 cputime=20.280 memavail=743740 print_time=57.162 buffer_time=0.310 print_stall=0 extruder: target=0 temp=22.1 pwm=0.000
webhooks client 547615238368: Disconnected
Restarting printer
Start printer at Thu Dec 22 16:55:42 2022 (1671756942.6 552.2)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00
restart_method = command

[printer]
kinematics = corexy
max_velocity = 200
max_accel = 2000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[stepper_x]
step_pin = gpio11
dir_pin = gpio10
enable_pin = !gpio12
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio4
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 0
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_y]
step_pin = gpio6
dir_pin = gpio5
enable_pin = !gpio7
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio3
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 2
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_z]
step_pin = gpio19
dir_pin = !gpio28
enable_pin = !gpio2
rotation_distance = 8
microsteps = 32
endstop_pin = ^gpio25
position_endstop = -0.10
position_max = 120
position_min = -1.5
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 1
interpolate = False
run_current = 0.37
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = gpio14
dir_pin = gpio13
enable_pin = !gpio15
rotation_distance = 13.1544
gear_ratio = 50:10
microsteps = 32
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = gpio23
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio27
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 170
max_extrude_only_distance = 150
max_extrude_cross_section = 0.9

[tmc2209 extruder]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 3
interpolate = False
run_current = 0.6
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = gpio21
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio26
smooth_time = 3.0
max_power = 0.5
min_temp = 0
max_temp = 200
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458

[heater_fan hotend_fan]
pin = gpio18
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = gpio17
max_power = 1.0
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[neopixel bedled]
pin = gpio24
chain_count = 1
color_order = RGBW
initial_red = 0.9
initial_green = 0.9
initial_blue = 0.9

[idle_timeout]
timeout = 36000

[safe_z_home]
home_xy_position = 120,120
speed = 50.0
z_hop = 5
=======================
Extruder max_extrude_ratio=0.374177
mcu 'mcu': Starting serial connect
webhooks client 547615197120: New connection
webhooks client 547615197120: Client info {'program': 'Moonraker', 'version': 'v0.7.1-780-gdde9bcc'}
mcu 'mcu': got {'oid': 12, 'next_clock': 717840000, 'value': 31467, '#name': 'analog_in_state', '#sent_time': 553.449296559, '#receive_time': 553.459015726}
mcu 'mcu': got {'oid': 19, 'next_clock': 718680000, 'value': 31472, '#name': 'analog_in_state', '#sent_time': 553.501194736, '#receive_time': 553.529280413}
mcu 'mcu': got {'oid': 12, 'next_clock': 721440000, 'value': 31471, '#name': 'analog_in_state', '#sent_time': 553.710096976, '#receive_time': 553.758643851}
mcu 'mcu': got {'oid': 19, 'next_clock': 722280000, 'value': 31471, '#name': 'analog_in_state', '#sent_time': 553.813452705, '#receive_time': 553.829011403}
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Configured MCU 'mcu' (1024 moves)
Starting heater checks for heater_bed
Starting heater checks for extruder
webhooks: registering remote method 'shutdown_machine' for connection id: 547615197120
webhooks: registering remote method 'reboot_machine' for connection id: 547615197120
webhooks: registering remote method 'pause_job_queue' for connection id: 547615197120
webhooks: registering remote method 'start_job_queue' for connection id: 547615197120
webhooks client 547615197120: Disconnected
webhooks client 547624911584: New connection
webhooks client 547624911584: Client info {'program': 'Moonraker', 'version': 'v0.7.1-783-gf7d8af6'}
webhooks: registering remote method 'shutdown_machine' for connection id: 547624911584
webhooks: registering remote method 'reboot_machine' for connection id: 547624911584
webhooks: registering remote method 'pause_job_queue' for connection id: 547624911584
webhooks: registering remote method 'start_job_queue' for connection id: 547624911584
Starting Klippy...
Args: ['/home/pi/klipper/klippy/klippy.py', '/home/pi/printer_data/config/printer.cfg', '-I', '/home/pi/printer_data/comms/klippy.serial', '-l', '/home/pi/printer_data/logs/klippy.log', '-a', '/home/pi/printer_data/comms/klippy.sock']
Git version: 'v0.11.0-41-g9b60daf6'
CPU: 4 core ?
Python: '3.9.2 (default, Feb 28 2021, 17:03:44) \n[GCC 10.2.1 20210110]'
Start printer at Thu Dec 22 16:56:35 2022 (1671756995.4 605.0)
===== Config file =====
[pause_resume]

[display_status]

[gcode_macro START_PRINT]
gcode = 
	CLEAR_PAUSE
	M117 Print Starting...
	{% set T_BED = params.T_BED|default(190)|float %}
	{% set T_EXTRUDER = params.T_EXTRUDER|default(60)|float %}
	M109 S{T_EXTRUDER}
	M190 S{T_BED}
	M117 Homing All...
	G28
	G92 E0
	G90
	G92 E0
	G1 X15 Y10 Z5 F6000
	M117 Waiting for Temps
	M190 S{T_BED}
	M109 S{T_EXTRUDER}
	PRIME_LINE
	M117 Printing.....

[gcode_macro END_PRINT]
gcode = 
	SAVE_GCODE_STATE NAME=end_print
	M117 Done printing
	G91
	G1 E-10 F3600
	G1 Z50
	G4 P1000
	G90
	
	
	
	
	
	
	
	
	
	
	{% set x_max = printer.toolhead.axis_minimum.x|float + 25.0 %}
	{% set y_max = printer.toolhead.axis_minimum.y|float + 25.0 %}
	G1 X{x_max} Y{y_max} F2000
	
	M104 S0
	M140 S0
	RESTORE_GCODE_STATE NAME=end_print
	M84

[gcode_macro PRIME_LINE]
gcode = 
	M117 Prime Line
	G92 E0
	
	G1 Z2.0 F3000
	
	G1 X2 Y2 Z2.28 F5000
	G1 X2 Y50 Z2.28 F500 E15
	G1 X3 Y50 Z2.28 F5000
	G1 X3 Y5 Z2.28 F500 E30
	G92 E0
	G1 Z2.0 F3000

[gcode_macro M205]
gcode = 
	{% if 'X' in params %}
	SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY={ X }
	{% endif %}

[gcode_macro M600]
gcode = 
	{% set X = params.X|default(50)|float %}
	{% set Y = params.Y|default(0)|float %}
	{% set Z = params.Z|default(10)|float %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	SET_IDLE_TIMEOUT TIMEOUT=86400
	M117 Paused
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro LOAD]
gcode = 
	SAVE_GCODE_STATE NAME=loading_filament
	M83
	G92 E0.0
	G1 E40 F500
	G1 E40 F100
	G92 E0.0
	RESTORE_GCODE_STATE NAME=loading_filament

[gcode_macro UNLOAD]
gcode = 
	SAVE_GCODE_STATE NAME=unloading_filament
	G91
	G1 E10 F100
	G92 E0.0
	G1 E-50 F1000
	G92 E0.0
	RESTORE_GCODE_STATE NAME=unloading_filament

[gcode_macro CANCEL_PRINT]
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[bed_screws]
screw1 = 60,5
screw1_name = front screw
screw2 = 5,115
screw2_name = back left
screw3 = 115,115
screw3_name = back right

[gcode_macro PRESSURE_ADVANCE_LIST]
description = List all filament pressure advance settings
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set out = ["PRESSURE ADVANCE: Defined filaments"] %}
	{% for filament in pa_dic|sort(attribute='id') %}
	{% set _dummy = out.append("%s" % filament.id) %}
	{% for setup in filament.val|sort(attribute='nozzle') %}
	{% set _dummy = out.append("Nozzle: %1.02f | Pressure Advance: %1.03f | Smooth Time: %1.03f" %
	(setup.nozzle, setup.pa, setup.st)) %}
	{% endfor %}
	{% endfor %}
	{action_respond_info(out|join("\n"))}
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_ADD]
description = Add or change pressure advance settings
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_ADD FILAMENT=id\" as a minimum")}
	{% else %}
	{% set cfg = printer.configfile.settings.extruder %}
	{% set id = params.FILAMENT|string %}
	{% set nozzle = params.NOZZLE|default(0.40)|float|round(2) %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Initialize with Filament %s" % (id))}
	{% set pa_dic = [{'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}] %}
	{% else %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set change_txt = [] %}
	{% if 'PRESSURE_ADVANCE' in params|upper %}
	{% set _dummy = change_txt.append("PRESSURE ADVANCE") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'pa': params.PRESSURE_ADVANCE|float|round(3)}) %}
	{% endif %}
	{% if 'SMOOTH_TIME' in params|upper %}
	{% set _dummy = change_txt.append("SMOOTH TIME") %}
	{% set _dummy = pa_dic[id_index].val[loop.index0].update({'st': params.SMOOTH_TIME|float|round(3)}) %}
	{% endif %}
	{% if change_txt|length > 0 %}
	{action_respond_info("PRESSURE ADVANCE: Changed %s at Filament %s Nozzle %s" % (change_txt|join(" and "),id,nozzle))}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Nothing changed at Filament %s Nozzle %s" % (id,nozzle))}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.append({'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}) %}
	{% endif%}
	{% endfor %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Add setup for Filament %s" % (id))}
	{% set _dummy = pa_dic.append({'id' : id,
	'val': [{'nozzle': nozzle,
	'pa'    : params.PRESSURE_ADVANCE|default(cfg.pressure_advance)|float|round(3),
	'st'    : params.SMOOTH_TIME|default(cfg.pressure_advance_smooth_time)|float|round(3)}]}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_REMOVE]
description = Remove a filament or a nezzle setup
gcode = 
	{% if 'FILAMENT' not in params|upper %}
	{action_respond_info("PRESSURE ADVANCE: FILAMENT must be defined use \"PRESSURE_ADVANCE_REMOVE FILAMENT=id\" as a minimum")}
	{% else %}
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, no save_variable defined yet")}
	{% else %}
	{% set id = params.FILAMENT|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% if 'NOZZLE' in params|upper %}
	{% set nozzle = params.NOZZLE|float|round(2) %}
	{% set id_index = loop.index0 %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{action_respond_info("PRESSURE ADVANCE: Remove Nozzle %s at Filament %s" % (nozzle,id))}
	{% set _dummy = pa_dic[id_index].val.pop(loop.index0) %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Nozzle %s at Filament %s not defined" % (nozzle,id))}
	{% endif%}
	{% endfor %}
	{% else %}
	{action_respond_info("PRESSURE ADVANCE: Remove Filament %s" % id)}
	{% set _dummy = pa_dic.pop(loop.index0) %}
	{% endif %}
	{% elif loop.last %}
	{action_respond_info("PRESSURE ADVANCE: Nothing to remove, Filament %s not defined" % id)}
	{% endif %}
	{% endfor %}
	{% endif %}
	SAVE_VARIABLE VARIABLE=pressure_advance VALUE="{pa_dic}"
	{% endif %}

[gcode_macro PRESSURE_ADVANCE_SELECT]
description = Set PA depending on nozzle and filament
gcode = 
	{% if not printer.save_variables.variables.pressure_advance %}
	{action_respond_info("PRESSURE ADVANCE: No filament defined ABORDED")}
	{% else %}
	{% set nozzle = params.NOZZLE|default(0.4)|float %}
	{% set id = params.FILAMENT|default('None')|string %}
	{% set pa_dic = printer.save_variables.variables.pressure_advance %}
	{% set found = {'id'    : 'default',
	'nozzle': 0.4,
	'pa'    : printer.configfile.settings.extruder.pressure_advance,
	'st'    : printer.configfile.settings.extruder.pressure_advance_smooth_time} %}
	{% for filament in pa_dic %}
	{% if id == filament.id %}
	{% for setup in filament.val %}
	{% if nozzle == setup.nozzle %}
	{% set _dummy = found.update({'id': filament.id}) %}
	{% set _dummy = found.update({'nozzle': setup.nozzle}) %}
	{% set _dummy = found.update({'pa': setup.pa}) %}
	{% set _dummy = found.update({'st': setup.st}) %}
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endfor %}
	SET_PRESSURE_ADVANCE ADVANCE={found.pa} SMOOTH_TIME={found.st}
	{action_respond_info("PRESSURE ADVANCE:
	Filament: %s   Nozzle: %1.02f
	Pressure Advance: %1.03f Smooth Time: %1.03f" % (found.id, found.nozzle, found.pa, found.st))}
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={printer.configfile.settings.printer.max_accel_to_decel}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[save_variables]
filename = ~/printer_data/config/.variables.stb

[virtual_sdcard]
path = ~/printer_data/gcodes

[mcu]
serial = /dev/serial/by-id/usb-Klipper_rp2040_4550357127108FD8-if00
restart_method = command

[printer]
kinematics = corexy
max_velocity = 200
max_accel = 2000
max_z_velocity = 15
max_z_accel = 45
square_corner_velocity = 6.0

[stepper_x]
step_pin = gpio11
dir_pin = gpio10
enable_pin = !gpio12
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio4
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_x]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 0
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_y]
step_pin = gpio6
dir_pin = gpio5
enable_pin = !gpio7
rotation_distance = 40
microsteps = 32
full_steps_per_rotation = 200
endstop_pin = ^gpio3
position_endstop = 120
position_max = 120
homing_speed = 50
homing_retract_dist = 5
homing_positive_dir = true

[tmc2209 stepper_y]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 2
interpolate = False
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[stepper_z]
step_pin = gpio19
dir_pin = !gpio28
enable_pin = !gpio2
rotation_distance = 8
microsteps = 32
endstop_pin = ^gpio25
position_endstop = -0.10
position_max = 120
position_min = -1.5
homing_speed = 10
second_homing_speed = 3.0
homing_retract_dist = 3.0

[tmc2209 stepper_z]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 1
interpolate = False
run_current = 0.37
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = gpio14
dir_pin = gpio13
enable_pin = !gpio15
rotation_distance = 13.1544
gear_ratio = 50:10
microsteps = 32
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = gpio23
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio27
control = pid
pid_kp = 19.933
pid_ki = 0.916
pid_kd = 108.388
min_temp = 0
max_temp = 270
min_extrude_temp = 170
max_extrude_only_distance = 150
max_extrude_cross_section = 0.9

[tmc2209 extruder]
uart_pin = gpio9
tx_pin = gpio8
uart_address = 3
interpolate = False
run_current = 0.6
sense_resistor = 0.110
stealthchop_threshold = 0

[heater_bed]
heater_pin = gpio21
sensor_type = ATC Semitec 104GT-2
sensor_pin = gpio26
smooth_time = 3.0
max_power = 0.5
min_temp = 0
max_temp = 200
control = pid
pid_kp = 30.821
pid_ki = 0.430
pid_kd = 552.458

[heater_fan hotend_fan]
pin = gpio18
max_power = 1.0
kick_start_time = 0.5
heater = extruder
heater_temp = 50.0

[fan]
pin = gpio17
max_power = 1.0
kick_start_time = 0.5
off_below = 0.13
cycle_time = 0.010

[neopixel bedled]
pin = gpio24
chain_count = 1
color_order = RGBW
initial_red = 0.9
initial_green = 0.9
initial_blue = 0.9

[idle_timeout]
timeout = 36000

[safe_z_home]
home_xy_position = 120,120
speed = 50.0
z_hop = 5
=======================
Extruder max_extrude_ratio=0.374177
mcu 'mcu': Starting serial connect
webhooks client 548354285520: New connection
webhooks client 548354285520: Client info {'program': 'Moonraker', 'version': 'v0.7.1-783-gf7d8af6'}
mcu 'mcu': got {'oid': 12, 'next_clock': 1356240000, 'value': 31472, '#name': 'analog_in_state', '#sent_time': 606.643383726, '#receive_time': 606.65767831}
mcu 'mcu': got {'oid': 19, 'next_clock': 1357080000, 'value': 31470, '#name': 'analog_in_state', '#sent_time': 606.695017633, '#receive_time': 606.727960549}
mcu 'mcu': got {'oid': 12, 'next_clock': 1359840000, 'value': 31472, '#name': 'analog_in_state', '#sent_time': 606.906035549, '#receive_time': 606.957316383}
mcu 'mcu': got {'oid': 19, 'next_clock': 1360680000, 'value': 31471, '#name': 'analog_in_state', '#sent_time': 607.010909351, '#receive_time': 607.027662737}
Loaded MCU 'mcu' 105 commands (v0.11.0-22-gfe0fc296 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.35.2-2+14+b2) 2.35.2)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Configured MCU 'mcu' (1024 moves)
Starting heater checks for heater_bed
Starting heater checks for extruder
webhooks: registering remote method 'shutdown_machine' for connection id: 548354285520
webhooks: registering remote method 'reboot_machine' for connection id: 548354285520
webhooks: registering remote method 'pause_job_queue' for connection id: 548354285520
webhooks: registering remote method 'start_job_queue' for connection id: 548354285520
